-- check parser

-- correct syntax
CREATE RESOURCE GROUP rg_io_limit_1 WITH (concurrency=10, cpu_hard_quota_limit=10, io_limit='pg_default:rbps=1000,wbps=1000,riops=1000,wiops=1000');
CREATE

-- * must be unique tablespace
CREATE RESOURCE GROUP rg_io_limit_2 WITH (concurrency=10, cpu_hard_quota_limit=10, io_limit='pg_default:rbps=1000,wbps=1000,riops=1000,wiops=1000;*:wbps=1000');
ERROR:  * cannot be used with other tablespaces

-- tail ;
CREATE RESOURCE GROUP rg_io_limit_2 WITH (concurrency=10, cpu_hard_quota_limit=10, io_limit='pg_default:rbps=1000,wbps=1000,riops=1000,wiops=1000;');
ERROR:  io limit config syntax error

-- tail ,
CREATE RESOURCE GROUP rg_io_limit_2 WITH (concurrency=10, cpu_hard_quota_limit=10, io_limit='pg_default:rbps=1000,wbps=1000,riops=1000,');
ERROR:  io limit config syntax error

-- with space
CREATE RESOURCE GROUP rg_io_limit_2 WITH (concurrency=10, cpu_hard_quota_limit=10, io_limit=' pg_default:rbps=1000,wbps=1000,riops=1000,wiops=1000');
ERROR:  tablespace " pg_default" does not exist

-- with space
CREATE RESOURCE GROUP rg_io_limit_2 WITH (concurrency=10, cpu_hard_quota_limit=10, io_limit='pg_default:rbps=1000, wbps=1000,riops=1000,wiops=1000');
ERROR:  io limit config syntax error

DROP RESOURCE GROUP rg_io_limit_1;
DROP
