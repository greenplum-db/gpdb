<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="gpconfig" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="topic1" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>gpconfig</title>
</head>
<body id="topic1">

  <h1 class="title topictitle1" id="topic1__kq139596">gpconfig</h1>

  <div class="body">
    <p class="p">Sets server configuration parameters on all segments within a Greenplum Database system.</p>

    <div class="section" id="topic1__section2"><h2 class="title sectiontitle">Synopsis</h2>
      
      <pre class="pre codeblock"><code>gpconfig -c &lt;param_name&gt; -v &lt;value&gt; [-m &lt;coordinator_value&gt; | --masteronly]
       | -r &lt;param_name&gt; [--masteronly]
       | -l
       [--skipvalidation] [--verbose] [--debug]

gpconfig -s &lt;param_name&gt; [--file | --file-compare] [--verbose] [--debug]

gpconfig --help</code></pre>
    </div>

    <div class="section" id="topic1__section3"><h2 class="title sectiontitle">Description</h2>
      
      <p class="p">The <code class="ph codeph">gpconfig</code> utility allows you to set, unset, or view configuration
        parameters from the <code class="ph codeph">postgresql.conf</code> files of all instances (coordinator,
        segments, and mirrors) in your Greenplum Database system. When setting a parameter, you can
        also specify a different value for the coordinator if necessary. For example, parameters such as
          <code class="ph codeph">max_connections</code> require a different setting on the coordinator than what is
        used for the segments. If you want to set or unset a global or coordinator only parameter, use
        the <code class="ph codeph">--masteronly</code> option.</p>

      <div class="note"><span class="notetitle">Note:</span> For configuration parameters of vartype <code class="ph codeph">string</code>, you may not pass values
        enclosed in single quotes to <code class="ph codeph">gpconfig -c</code>.</div>

      <p class="p"><code class="ph codeph">gpconfig</code> can only be used to manage certain parameters. For example, you
        cannot use it to set parameters such as <code class="ph codeph">port</code>, which is required to be
        distinct for every segment instance. Use the <code class="ph codeph">-l</code> (list) option to see a
        complete list of configuration parameters supported by <code class="ph codeph">gpconfig</code>.</p>

      <p class="p">When <code class="ph codeph">gpconfig</code> sets a configuration parameter in a segment
          <code class="ph codeph">postgresql.conf</code> file, the new parameter setting always displays at the
        bottom of the file. When you use <code class="ph codeph">gpconfig</code> to remove a configuration
        parameter setting, <code class="ph codeph">gpconfig</code> comments out the parameter in all segment
          <code class="ph codeph">postgresql.conf</code> files, thereby restoring the system default setting. For
        example, if you use <code class="ph codeph">gpconfig </code>to remove (comment out) a parameter and later
        add it back (set a new value), there will be two instances of the parameter; one that is
        commented out, and one that is enabled and inserted at the bottom of the
          <code class="ph codeph">postgresql.conf</code> file.</p>

      <p class="p">After setting a parameter, you must restart your Greenplum Database system or reload the
          <code class="ph codeph">postgresql.conf</code> files in order for the change to take effect. Whether you
        require a restart or a reload depends on the parameter. </p>

      <p class="p">For more information about the server configuration parameters, see the <em class="ph i">Greenplum
          Database Reference Guide</em>.</p>

      <p class="p">To show the currently set values for a parameter across the system, use the
          <code class="ph codeph">-s</code> option.</p>

      <p class="p"><code class="ph codeph">gpconfig</code> uses the following environment variables to connect to the
        Greenplum Database coordinator instance and obtain system configuration information: </p>

      <ul class="ul">
        <li class="li" id="topic1__kq141888">
          <code class="ph codeph">PGHOST</code>
        </li>

        <li class="li" id="topic1__kq141742">
          <code class="ph codeph">PGPORT</code>
        </li>

        <li class="li" id="topic1__kq141743">
          <code class="ph codeph">PGUSER</code>
        </li>

        <li class="li" id="topic1__kq141744">
          <code class="ph codeph">PGPASSWORD</code>
        </li>

        <li class="li" id="topic1__kq141745">
          <code class="ph codeph">PGDATABASE</code>
        </li>

      </ul>

    </div>

    <div class="section" id="topic1__section4"><h2 class="title sectiontitle">Options</h2>
      
      <dl class="dl parml">
        
          <dt class="dt pt dlterm">-c | --change <var class="keyword varname">param_name</var></dt>

          <dd class="dd pd">Changes a configuration parameter setting by adding the new setting to the bottom of
            the <code class="ph codeph">postgresql.conf</code> files.</dd>

        
        
          <dt class="dt pt dlterm">-v | --value <var class="keyword varname">value</var></dt>

          <dd class="dd pd">The value to use for the configuration parameter you specified with the
              <code class="ph codeph">-c</code> option. By default, this value is applied to all segments, their
            mirrors, the coordinator, and the standby coordinator.</dd>

          <dd class="dd pd ddexpand">The utility correctly quotes the value when adding the setting to the
              <code class="ph codeph">postgresql.conf</code> files.</dd>

          <dd class="dd pd ddexpand">To set the value to an empty string, enter empty single quotes (<code class="ph codeph">''</code>). </dd>

        
        
          <dt class="dt pt dlterm">-m | --mastervalue <var class="keyword varname">coordinator_value</var></dt>

          <dd class="dd pd">The coordinator value to use for the configuration parameter you specified with the
              <code class="ph codeph">-c</code> option. If specified, this value only applies to the coordinator and
            standby coordinator. This option can only be used with <code class="ph codeph">-v</code>. </dd>

        
        
          <dt class="dt pt dlterm">--masteronly</dt>

          <dd class="dd pd">When specified, <code class="ph codeph">gpconfig</code> will only edit the coordinator
              <code class="ph codeph">postgresql.conf</code> file.</dd>

        
        
          <dt class="dt pt dlterm">-r | --remove <var class="keyword varname">param_name</var></dt>

          <dd class="dd pd">Removes a configuration parameter setting by commenting out the entry in the
              <code class="ph codeph">postgresql.conf</code> files.</dd>

        
        
          <dt class="dt pt dlterm">-l | --list</dt>

          <dd class="dd pd">Lists all configuration parameters supported by the <code class="ph codeph">gpconfig</code>
            utility.</dd>

        
        
          <dt class="dt pt dlterm">-s | --show <var class="keyword varname">param_name</var></dt>

          <dd class="dd pd">Shows the value for a configuration parameter used on all instances (coordinator and
            segments) in the Greenplum Database system. If there is a difference in a parameter
            value among the instances, the utility displays an error message. Running
              <code class="ph codeph">gpconfig</code> with the <code class="ph codeph">-s</code> option reads parameter values
            directly from the database, and not the <code class="ph codeph">postgresql.conf</code> file. If you
            are using <code class="ph codeph">gpconfig</code> to set configuration parameters across all segments,
            then running <code class="ph codeph">gpconfig -s</code> to verify the changes, you might still see the
            previous (old) values. You must reload the configuration files (<code class="ph codeph">gpstop
              -u</code>) or restart the system (<code class="ph codeph">gpstop -r</code>) for changes to take
            effect.</dd>

        
        
          <dt class="dt pt dlterm">--file</dt>

          <dd class="dd pd">For a configuration parameter, shows the value from the
              <code class="ph codeph">postgresql.conf</code> file on all instances (coordinator and segments) in the
            Greenplum Database system. If there is a difference in a parameter value among the
            instances, the utility displays a message. Must be specified with the
              <code class="ph codeph">-s</code> option.</dd>

          <dd class="dd pd ddexpand">For example, the configuration parameter <code class="ph codeph">statement_mem</code> is set to 64MB
            for a user with the <code class="ph codeph">ALTER ROLE</code> command, and the value in the
              <code class="ph codeph">postgresql.conf</code> file is 128MB. Running the command <code class="ph codeph">gpconfig
              -s statement_mem --file</code> displays 128MB. The command <code class="ph codeph">gpconfig -s
              statement_mem</code> run by the user displays 64MB. </dd>

          <dd class="dd pd ddexpand">Not valid with the <code class="ph codeph">--file-compare</code> option.</dd>

        
        
          <dt class="dt pt dlterm">--file-compare</dt>

          <dd class="dd pd">For a configuration parameter, compares the current Greenplum Database value with the
            value in the <code class="ph codeph">postgresql.conf</code> files on hosts (coordinator and segments). The
            values in the <code class="ph codeph">postgresql.conf files</code> represent the value when Greenplum
            Database is restarted. </dd>

          <dd class="dd pd ddexpand">If the values are not the same, the utility displays the values from all hosts. If all
            hosts have the same value, the utility displays a summary report.</dd>

          <dd class="dd pd ddexpand">Not valid with the <code class="ph codeph">--file</code> option.</dd>

        
        
          <dt class="dt pt dlterm">--skipvalidation</dt>

          <dd class="dd pd">Overrides the system validation checks of <code class="ph codeph">gpconfig</code> and allows you to
            operate on any server configuration parameter, including hidden parameters and
            restricted parameters that cannot be changed by <code class="ph codeph">gpconfig</code>. When used
            with the <code class="ph codeph">-l</code> option (list), it shows the list of restricted parameters.
              <div class="note warning"><span class="warningtitle">Warning:</span> Use extreme caution when setting configuration parameters with
              this option. </div>
</dd>

        
        
          <dt class="dt pt dlterm">--verbose </dt>

          <dd class="dd pd">Displays additional log information during <code class="ph codeph">gpconfig</code> command
            execution.</dd>

        
        
          <dt class="dt pt dlterm">--debug</dt>

          <dd class="dd pd">Sets logging output to debug level. </dd>

        
        
          <dt class="dt pt dlterm">-? | -h | --help</dt>

          <dd class="dd pd">Displays the online help.</dd>

        
      </dl>

    </div>

    <div class="section" id="topic1__section5"><h2 class="title sectiontitle">Examples</h2>
      
      <p class="p">Set the <code class="ph codeph">max_connections</code> setting to 100 on all segments and 10 on the
        coordinator:</p>

      <pre class="pre codeblock"><code>gpconfig -c max_connections -v 100 -m 10</code></pre>
      <p class="p">These examples shows the syntax required due to bash shell string processing.</p>

      <pre class="pre codeblock"><code>gpconfig -c search_path -v '"\$user",public'
gpconfig -c dynamic_library_path -v '\$libdir'</code></pre>
      <p class="p">The configuration parameters are added to the <code class="ph codeph">postgresql.conf</code> file.</p>

      <pre class="pre codeblock"><code>search_path='"$user",public'
dynamic_library_path='$libdir'</code></pre>
      <p class="p">Comment out all instances of the <code class="ph codeph">default_statistics_target</code> configuration
        parameter, and restore the system default:</p>

      <pre class="pre codeblock"><code>gpconfig -r default_statistics_target</code></pre>
      <p class="p">List all configuration parameters supported by <code class="ph codeph">gpconfig</code>:</p>

      <pre class="pre codeblock"><code>gpconfig -l</code></pre>
      <p class="p">Show the values of a particular configuration parameter across the system:</p>

      <pre class="pre codeblock"><code>gpconfig -s max_connections</code></pre>
    </div>

    <div class="section" id="topic1__section6"><h2 class="title sectiontitle">See Also</h2>
      
      <p class="p">
        <a class="xref" href="gpstop.html#topic1">gpstop</a>
      </p>

    </div>

  </div>

</body>
</html>