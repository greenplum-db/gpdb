<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="gppkg" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="topic1" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>gppkg</title>
</head>
<body id="topic1">

    <h1 class="title topictitle1" id="topic1__jt142031">gppkg</h1>

    <div class="body">
        <p class="p">Installs Greenplum Database extensions in <code class="ph codeph">.gppkg</code> format, such as
            PL/Java, PL/R<span class="ph">, PostGIS</span>, and MADlib, along with their
            dependencies, across an entire cluster.</p>

        <div class="section" id="topic1__section2"><h2 class="title sectiontitle">Synopsis</h2>
            
            <pre class="pre codeblock"><code>gppkg [-i &lt;package&gt; | -u &lt;package&gt; | -r  &lt;name&gt;-&lt;version&gt; | -c] 
        [-d &lt;coordinator_data_directory&gt;] [-a] [-v]

gppkg --migrate &lt;GPHOME_old&gt; &lt;GPHOME_new&gt; [-a] [-v]

gppkg [-q | --query] &lt;query_option&gt;

gppkg -? | --help | -h 

gppkg --version</code></pre>
        </div>

        <div class="section" id="topic1__section3"><h2 class="title sectiontitle">Description</h2>
            
            <p class="p">The Greenplum Package Manager (<code class="ph codeph">gppkg</code>) utility installs Greenplum
                Database extensions, along with any dependencies, on all hosts across a cluster. It
                will also automatically install extensions on new hosts in the case of system
                expansion and segment recovery.</p>

            <div class="note"><span class="notetitle">Note:</span> After a major upgrade to Greenplum Database, you must download and
                install all <code class="ph codeph">gppkg</code> extensions again.</div>

            <div class="p">Examples of database extensions and packages software that are
                delivered using the Greenplum Package Manager are:<ul class="ul" id="topic1__ul_g35_g2j_f1b">
                    <li class="li">PL/Java</li>

                    <li class="li">PL/R</li>

                    <li class="li" id="topic1__jt141959">PostGIS</li>

                    <li class="li" id="topic1__jt142629">MADlib</li>

                </ul>
</div>

        </div>

        <div class="section" id="topic1__section4"><h2 class="title sectiontitle">Options</h2>
            
            <dl class="dl parml">
                
                    <dt class="dt pt dlterm">-a (do not prompt)</dt>

                    <dd class="dd pd">Do not prompt the user for confirmation.</dd>

                
                
                    <dt class="dt pt dlterm">-c | --clean</dt>

                    <dd class="dd pd">Reconciles the package state of the cluster to match the state of the coordinator
                        host. Running this option after a failed or partial install/uninstall
                        ensures that the package installation state is consistent across the
                        cluster.</dd>

                
                
                    <dt class="dt pt dlterm">-d <var class="keyword varname">coordinator_data_directory</var></dt>

                    <dd class="dd pd">The coordinator data directory. If not specified, the value set for
                            <code class="ph codeph">$COORDINATOR_DATA_DIRECTORY</code> will be used.</dd>

                
                
                    <dt class="dt pt dlterm">-i <var class="keyword varname">package</var> | --install=<var class="keyword varname">package</var></dt>

                    <dd class="dd pd">Installs the given package. This includes any pre/post installation steps
                        and installation of any dependencies.</dd>

                
                
                    <dt class="dt pt dlterm">--migrate <var class="keyword varname">GPHOME_old</var>
                        <var class="keyword varname">GPHOME_new</var></dt>

                    <dd class="dd pd">Migrates packages from a separate <code class="ph codeph">$GPHOME</code>. Carries over
                        packages from one version of Greenplum Database to another.</dd>

                    <dd class="dd pd ddexpand">For example: <code class="ph codeph">gppkg --migrate
                            /usr/local/greenplum-db-&lt;old-version&gt;
                            /usr/local/greenplum-db-&lt;new-version&gt;</code></dd>

                    <dd class="dd pd ddexpand">
                        <div class="note"><span class="notetitle">Note:</span> In general, it is best to avoid using the <code class="ph codeph">--migrate</code>
                            option, and packages should be reinstalled, not migrated. See <a class="xref" href="../../install_guide/upgrading.html#topic17" target="_blank">Upgrading from 6.x
                                to a Newer 6.x Release</a>.</div>

                    </dd>

                    <dd class="dd pd ddexpand">When migrating packages, these requirements must be met.<ul class="ul" id="topic1__ul_sx3_hwx_41b">
                            <li class="li">At least the coordinator instance of the destination Greenplum Database
                                must be started (the instance installed in
                                    <var class="keyword varname">GPHOME_new</var>). Before running the
                                    <code class="ph codeph">gppkg</code> command start the Greenplum Database
                                coordinator with the command <code class="ph codeph">gpstart -m</code>.</li>

                            <li class="li">Run the <code class="ph codeph">gppkg</code> utility from the
                                    <var class="keyword varname">GPHOME_new</var> installation. The migration
                                destination installation directory. </li>

                        </ul>
</dd>

                
                
                    <dt class="dt pt dlterm">-q | --query <var class="keyword varname">query_option</var></dt>

                    <dd class="dd pd">Provides information specified by <code class="ph codeph">query_option</code> about the
                        installed packages. Only one <code class="ph codeph">query_option</code> can be specified
                        at a time. The following table lists the possible values for query_option.
                            <code class="ph codeph">&lt;package_file&gt;</code> is the name of a package.
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic1__jt142509" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Query Options for gppkg</span></caption><colgroup><col style="width:144pt" /><col style="width:165pt" /></colgroup><thead class="thead" style="text-align:left;">
                                    <tr class="row">
                                        <th class="entry nocellnorowborder" style="vertical-align:top;" id="d131230e216">query_option</th>

                                        <th class="entry cell-norowborder" style="vertical-align:top;" id="d131230e219">Returns</th>

                                    </tr>

                                </thead>
<tbody class="tbody">
                                    <tr class="row">
                                        <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d131230e216 "><code class="ph codeph">&lt;package_file&gt;</code></td>

                                        <td class="entry cell-norowborder" style="vertical-align:top;" headers="d131230e219 ">Whether the specified package is
                                            installed.</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d131230e216 "><code class="ph codeph">--info
                                                &lt;package_file&gt;</code></td>

                                        <td class="entry cell-norowborder" style="vertical-align:top;" headers="d131230e219 ">The name, version, and other
                                            information about the specified package.</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d131230e216 "><code class="ph codeph">--list
                                                &lt;package_file&gt;</code></td>

                                        <td class="entry cell-norowborder" style="vertical-align:top;" headers="d131230e219 ">The file contents of the specified
                                            package.</td>

                                    </tr>

                                    <tr class="row">
                                        <td class="entry row-nocellborder" style="vertical-align:top;" headers="d131230e216 "><code class="ph codeph">--all</code></td>

                                        <td class="entry cellrowborder" style="vertical-align:top;" headers="d131230e219 ">List of all installed
                                            packages.</td>

                                    </tr>

                                </tbody>
</table>
</div>
</dd>

                
                
                    <dt class="dt pt dlterm">-r <var class="keyword varname">name-version</var> |
                            --remove=<var class="keyword varname">name-version</var></dt>

                    <dd class="dd pd">Removes the specified package.</dd>

                
                
                    <dt class="dt pt dlterm">-u <var class="keyword varname">package</var> | --update=<var class="keyword varname">package</var></dt>

                    <dd class="dd pd">Updates the given package.<div class="note warning"><span class="warningtitle">Warning:</span> The process of updating a
                            package includes removing all previous versions of the system objects
                            related to the package. For example, previous versions of shared
                            libraries are removed. After the update process, a database function
                            will fail when it is called if the function references a package file
                            that has been removed.</div>
</dd>

                    <dd class="dd pd ddexpand"> </dd>

                
                
                    <dt class="dt pt dlterm">--version (show utility version)</dt>

                    <dd class="dd pd">Displays the version of this utility.</dd>

                
                
                    <dt class="dt pt dlterm">-v | --verbose</dt>

                    <dd class="dd pd">Sets the logging level to verbose.</dd>

                
                
                    <dt class="dt pt dlterm">-? | -h | --help</dt>

                    <dd class="dd pd">Displays the online help.</dd>

                
            </dl>

        </div>

    </div>

</body>
</html>