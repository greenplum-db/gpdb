<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="gpscp" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="topic1" />
<link rel="stylesheet" type="text/css" href="../../out/commonltr.css" />
<title>gpscp</title>
</head>
<body id="topic1">

    <h1 class="title topictitle1" id="topic1__ju137116">gpscp</h1>

    <div class="body">
        <p class="p">Copies files between multiple hosts at once.</p>

        <div class="section" id="topic1__section2"><h2 class="title sectiontitle">Synopsis</h2>
            
            <pre class="pre codeblock"><code>gpscp { -f &lt;hostfile_gpssh&gt; | -h &lt;hostname&gt; [-h &lt;hostname&gt; ...] } 
      [-J &lt;character&gt;] [-v] [[&lt;user&gt;@]&lt;hostname&gt;:]&lt;file_to_copy&gt; [...]
      [[&lt;user&gt;@]&lt;hostname&gt;:]&lt;copy_to_path&gt;

gpscp -? 

gpscp --version</code></pre>
        </div>

        <div class="section" id="topic1__section3"><h2 class="title sectiontitle">Description</h2>
            
            <p class="p">The <code class="ph codeph">gpscp</code> utility allows you to copy one or more files from the
                specified hosts to other specified hosts in one command using SCP (secure copy). For
                example, you can copy a file from the Greenplum Database coordinator host
                to all of the segment hosts at the same time.</p>

            <p class="p">To specify the hosts involved in the SCP session, use the <code class="ph codeph">-f</code> option
                to specify a file containing a list of host names, or use the <code class="ph codeph">-h</code>
                option to name single host names on the command-line. At least one host name
                    (<code class="ph codeph">-h</code>) or a host file (<code class="ph codeph">-f</code>) is required. The
                    <code class="ph codeph">-J</code> option allows you to specify a single character to
                substitute for the <var class="keyword varname">hostname</var> in the <code class="ph codeph">copy from</code> and
                    <code class="ph codeph">copy to</code> destination strings. If <code class="ph codeph">-J</code> is not
                specified, the default substitution character is an equal sign (<code class="ph codeph">=</code>).
                For example, the following command will copy <code class="ph codeph">.bashrc</code> from the local
                host to <code class="ph codeph">/home/gpadmin</code> on all hosts named in
                    <code class="ph codeph">hostfile_gpssh</code>:</p>

            <pre class="pre codeblock"><code>gpscp -f hostfile_gpssh .bashrc =:/home/gpadmin</code></pre>
            <p class="p">If a user name is not specified in the host list or with
                    <var class="keyword varname">user</var><code class="ph codeph">@</code> in the file path,
                    <code class="ph codeph">gpscp</code> will copy files as the currently logged in user. To
                determine the currently logged in user, do a <code class="ph codeph">whoami</code> command. By
                default, <code class="ph codeph">gpscp</code> goes to <code class="ph codeph">$HOME</code> of the session user
                on the remote hosts after login. To ensure the file is copied to the correct
                location on the remote hosts, it is recommended that you use absolute paths.</p>

            <p class="p">Before using <code class="ph codeph">gpscp</code>, you must have a trusted host setup between the
                hosts involved in the SCP session. You can use the utility
                    <code class="ph codeph">gpssh-exkeys</code> to update the known host files and exchange public
                keys between hosts if you have not done so already.</p>

        </div>

        <div class="section" id="topic1__section4"><h2 class="title sectiontitle">Options</h2>
            
            <dl class="dl parml">
                
                    <dt class="dt pt dlterm">-f <var class="keyword varname">hostfile_gpssh</var></dt>

                    <dd class="dd pd">Specifies the name of a file that contains a list of hosts that will
                        participate in this SCP session. The syntax of the host file is one host per
                        line as follows:</dd>

                    <dd class="dd pd ddexpand">
                        <pre class="pre codeblock"><code>&lt;hostname&gt;</code></pre>
                    </dd>

                
                
                    <dt class="dt pt dlterm">-h <var class="keyword varname">hostname</var></dt>

                    <dd class="dd pd">Specifies a single host name that will participate in this SCP session. You
                        can use the <code class="ph codeph">-h</code> option multiple times to specify multiple
                        host names.</dd>

                
                
                    <dt class="dt pt dlterm">-J <var class="keyword varname">character</var></dt>

                    <dd class="dd pd">The <code class="ph codeph">-J</code> option allows you to specify a single character to
                        substitute for the <var class="keyword varname">hostname</var> in the <code class="ph codeph">copy
                            from</code> and <code class="ph codeph">copy to</code> destination strings. If
                            <code class="ph codeph">-J</code> is not specified, the default substitution character
                        is an equal sign (<code class="ph codeph">=</code>).</dd>

                
                
                    <dt class="dt pt dlterm">-v (verbose mode)</dt>

                    <dd class="dd pd">Optional. Reports additional messages in addition to the SCP command
                        output.</dd>

                
                
                    <dt class="dt pt dlterm"><var class="keyword varname">file_to_copy</var></dt>

                    <dd class="dd pd">Required. The file name (or absolute path) of a file that you want to copy
                        to other hosts (or file locations). This can be either a file on the local
                        host or on another named host.</dd>

                
                
                    <dt class="dt pt dlterm"><var class="keyword varname">copy_to_path</var></dt>

                    <dd class="dd pd">Required. The path where you want the file(s) to be copied on the named
                        hosts. If an absolute path is not used, the file will be copied relative to
                            <code class="ph codeph">$HOME</code> of the session user. You can also use the equal
                        sign '<code class="ph codeph">=</code>' (or another character that you specify with the
                            <code class="ph codeph">-J</code> option) in place of a <var class="keyword varname">hostname</var>.
                        This will then substitute in each host name as specified in the supplied
                        host file (<code class="ph codeph">-f</code>) or with the <code class="ph codeph">-h</code> option.</dd>

                
                
                    <dt class="dt pt dlterm">-? (help)</dt>

                    <dd class="dd pd">Displays the online help.</dd>

                
                
                    <dt class="dt pt dlterm">--version</dt>

                    <dd class="dd pd">Displays the version of this utility.</dd>

                
            </dl>

        </div>

        <div class="section" id="topic1__section5"><h2 class="title sectiontitle">Examples</h2>
            
            <p class="p">Copy the file named <code class="ph codeph">installer.tar</code> to <code class="ph codeph">/</code> on all the
                hosts in the file <code class="ph codeph">hostfile_gpssh</code>.</p>

            <pre class="pre codeblock"><code>gpscp -f hostfile_gpssh installer.tar =:/</code></pre>
            <p class="p">Copy the file named <var class="keyword varname">myfuncs.so</var> to the specified location on the
                hosts named <code class="ph codeph">sdw1</code> and <code class="ph codeph">sdw2</code>:</p>

            <pre class="pre codeblock"><code>gpscp -h sdw1 -h sdw2 myfuncs.so =:/usr/local/greenplum-db/lib</code></pre>
        </div>

        <div class="section"><h2 class="title sectiontitle">See Also</h2>
            
            <p class="p"><a class="xref" href="gpssh.html#topic1">gpssh</a>, <a class="xref" href="gpssh-exkeys.html#topic1">gpssh-exkeys</a></p>

        </div>

    </div>

</body>
</html>