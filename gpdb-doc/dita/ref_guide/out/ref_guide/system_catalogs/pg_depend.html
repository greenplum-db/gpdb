<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="pg_depend" />
<meta name="DC.relation" scheme="URI" content="../system_catalogs/catalog_ref-html.html#topic1" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="topic1" />
<meta name="DC.language" content="en" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>pg_depend</title>
</head>
<body id="topic1">

  <h1 class="title topictitle1" id="topic1__gk143896">pg_depend</h1>

  <div class="body">
    <p class="p">The <code class="ph codeph">pg_depend</code> system catalog table records the dependency relationships
      between database objects. This information allows <code class="ph codeph">DROP</code> commands to find which
      other objects must be dropped by <code class="ph codeph">DROP CASCADE</code> or prevent dropping in the
        <code class="ph codeph">DROP RESTRICT</code> case. See also <a class="xref" href="pg_shdepend.html#topic1">pg_shdepend</a>, which performs a similar function for dependencies involving objects
      that are shared across a Greenplum system. </p>

    <p class="p">In all cases, a <code class="ph codeph">pg_depend</code> entry indicates that the referenced object may not
      be dropped without also dropping the dependent object. However, there are several subflavors
      identified by <code class="ph codeph">deptype</code>: </p>

    <ul class="ul">
      <li class="li" id="topic1__gk155721"><strong class="ph b">DEPENDENCY_NORMAL (n)</strong> — A normal relationship between
        separately-created objects. The dependent object may be dropped without affecting the
        referenced object. The referenced object may only be dropped by specifying
          <code class="ph codeph">CASCADE</code>, in which case the dependent object is dropped, too. Example: a
        table column has a normal dependency on its data type.</li>

      <li class="li" id="topic1__gk155724"><strong class="ph b">DEPENDENCY_AUTO (a)</strong> — The dependent object can be dropped separately
        from the referenced object, and should be automatically dropped (regardless of
          <code class="ph codeph">RESTRICT</code> or <code class="ph codeph">CASCADE</code> mode) if the referenced object is
        dropped. Example: a named constraint on a table is made autodependent on the table, so that
        it will go away if the table is dropped.</li>

      <li class="li" id="topic1__gk155727"><strong class="ph b">DEPENDENCY_INTERNAL (i)</strong> — The dependent object was created as part of
        creation of the referenced object, and is really just a part of its internal implementation.
        A <code class="ph codeph">DROP</code> of the dependent object will be disallowed outright (we'll tell the
        user to issue a <code class="ph codeph">DROP</code> against the referenced object, instead). A
          <code class="ph codeph">DROP</code> of the referenced object will be propagated through to drop the
        dependent object whether <code class="ph codeph">CASCADE</code> is specified or not.</li>

      <li class="li" id="topic1__gk155730"><strong class="ph b">DEPENDENCY_PIN (p)</strong> — There is no dependent object; this type of entry
        is a signal that the system itself depends on the referenced object, and so that object must
        never be deleted. Entries of this type are created only by system initialization. The
        columns for the dependent object contain zeroes.
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic1__gk143898" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>pg_catalog.pg_depend</span></caption><colgroup><col style="width:131pt" /><col style="width:86pt" /><col style="width:85pt" /><col style="width:147pt" /></colgroup><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry nocellnorowborder" style="vertical-align:top;" id="d264040e95">column</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d264040e97">type</th>
<th class="entry nocellnorowborder" style="vertical-align:top;" id="d264040e99">references</th>
<th class="entry cell-norowborder" style="vertical-align:top;" id="d264040e101">description</th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e95 "><code class="ph codeph">classid</code></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e97 ">oid</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e99 ">pg_class.oid</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d264040e101 ">The OID of the system
                  catalog the dependent object is in.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e95 "><code class="ph codeph">objid</code></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e97 ">oid</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e99 ">any OID column</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d264040e101 "> The OID of the
                  specific dependent object.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e95 "><code class="ph codeph">objsubid </code></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e97 ">int4</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e99 "> </td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d264040e101 ">For a table column, this is the column
                  number. For all other object types, this column is zero.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e95 "><code class="ph codeph">refclassid</code></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e97 ">oid</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e99 ">pg_class.oid</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d264040e101 ">The
                  OID of the system catalog the referenced object is in.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e95 "><code class="ph codeph">refobjid</code></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e97 ">oid</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e99 ">any OID column</td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d264040e101 ">The
                  OID of the specific referenced object.</td>
</tr>
<tr class="row"><td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e95 "><code class="ph codeph">refobjsubid </code></td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e97 ">int4</td>
<td class="entry nocellnorowborder" style="vertical-align:top;" headers="d264040e99 "> </td>
<td class="entry cell-norowborder" style="vertical-align:top;" headers="d264040e101 ">For a table column, this is the referenced
                  column number. For all other object types, this column is
                  zero.</td>
</tr>
<tr class="row"><td class="entry row-nocellborder" style="vertical-align:top;" headers="d264040e95 "><code class="ph codeph">deptype</code></td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d264040e97 ">char</td>
<td class="entry row-nocellborder" style="vertical-align:top;" headers="d264040e99 "> </td>
<td class="entry cellrowborder" style="vertical-align:top;" headers="d264040e101 ">A code defining the specific semantics of
                  this dependency relationship.</td>
</tr>
</tbody>
</table>
</div>
</li>

    </ul>

  </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../system_catalogs/catalog_ref-html.html#topic1">System Catalogs Definitions</a></div>
</div>
</div></body>
</html>