<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="gp_resgroup_status" />
<meta name="DC.relation" scheme="URI" content="../system_catalogs/catalog_ref-html.html#topic1" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="topic1" />
<meta name="DC.language" content="en" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>gp_resgroup_status</title>
</head>
<body id="topic1">

  <h1 class="title topictitle1" id="topic1__fp141670">gp_resgroup_status</h1>

  <div class="body">
    <p class="p">The <code class="ph codeph">gp_toolkit.gp_resgroup_status</code> view allows administrators to see status
      and activity for a resource group. It shows how many queries are waiting
      to run and how many queries are currently active in the system for each resource
      group. The view also displays current memory and CPU usage for the resource group.</p>

      <div class="note"><span class="notetitle">Note:</span> The <code class="ph codeph">gp_resgroup_status</code> view is valid only when resource group-based resource management is active.</div>

    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic1__fp141982" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>gp_toolkit.gp_resgroup_status</span></caption><colgroup><col style="width:114pt" /><col style="width:66pt" /><col style="width:133.5pt" /><col style="width:147pt" /></colgroup><thead class="thead" style="text-align:left;">
          <tr class="row">
            <th class="entry nocellnorowborder" style="vertical-align:top;" id="d141337e46">column</th>

            <th class="entry nocellnorowborder" style="vertical-align:top;" id="d141337e49">type</th>

            <th class="entry nocellnorowborder" style="vertical-align:top;" id="d141337e52">references</th>

            <th class="entry cell-norowborder" style="vertical-align:top;" id="d141337e55">description</th>

          </tr>

        </thead>
<tbody class="tbody">
          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e46 ">
              <code class="ph codeph">rsgname</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e49 ">name</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e52 ">pg_resgroup.rsgname</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d141337e55 ">The name of the resource group.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e46 ">
              <code class="ph codeph">groupid</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e49 ">oid</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e52 ">pg_resgroup.oid</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d141337e55 ">The ID of the resource group.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e46 ">
              <code class="ph codeph">num_running</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e49 ">integer</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e52 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d141337e55 ">The number of transactions currently running in the resource group.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e46 ">
              <code class="ph codeph">num_queueing</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e49 ">integer</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e52 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d141337e55 ">The number of currently queued transactions for the resource group.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e46 ">
              <code class="ph codeph">num_queued</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e49 ">integer</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e52 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d141337e55 ">The total number of queued transactions for the resource group since the Greenplum Database cluster was last started, excluding the <code class="ph codeph">num_queueing</code>.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e46 ">
              <code class="ph codeph">num_executed</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e49 ">integer</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e52 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d141337e55 ">The total number of transactions run in the resource group since the Greenplum Database cluster was last started, excluding the <code class="ph codeph">num_running</code>.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e46 ">
              <code class="ph codeph">total_queue_duration</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e49 ">interval</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e52 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d141337e55 ">The total time any transaction was queued since the Greenplum Database cluster was last started.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e46 ">
              <code class="ph codeph">cpu_usage</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e49 ">json</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d141337e52 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d141337e55 ">A set of key-value pairs. For each segment instance (the key), the
              value is the real-time, per-segment instance CPU core usage by a resource group. The
              value is the sum of the percentages (as a decimal value) of CPU cores that are used by
              the resource group for the segment instance.</td>

          </tr>

          <tr class="row">
            <td class="entry row-nocellborder" style="vertical-align:top;" headers="d141337e46 ">
              <code class="ph codeph">memory_usage</code>
            </td>

            <td class="entry row-nocellborder" style="vertical-align:top;" headers="d141337e49 ">json</td>

            <td class="entry row-nocellborder" style="vertical-align:top;" headers="d141337e52 "> </td>

            <td class="entry cellrowborder" style="vertical-align:top;" headers="d141337e55 ">The real-time memory usage of the resource group on each Greenplum Database segment's host.</td>

          </tr>

        </tbody>
</table>
</div>

    <p class="p"> </p>

    <div class="p">The <code class="ph codeph">cpu_usage</code> field is a JSON-formatted, key:value
          string that identifies, for each resource group, the per-segment instance CPU core usage.
          The key is the segment id. The value is the sum of the percentages (as a decimal value) of
          the CPU cores used by the segment instance's resource group on the segment host;
          the maximum value is 1.00.
          The total CPU usage of all segment instances running on a host should not exceed
          the <code class="ph codeph">gp_resource_group_cpu_limit</code>. Example <code class="ph codeph">cpu_usage</code>
          column output:<pre class="pre codeblock"><code>
{"-1":0.01, "0":0.31, "1":0.31}</code></pre>In the example,
          segment <code class="ph codeph">0</code> and segment <code class="ph codeph">1</code> are running on the same host;
          their CPU usage is the same.</div>

    <div class="p">The <code class="ph codeph">memory_usage</code> field is also a JSON-formatted,
          key:value string. The string contents differ depending upon the type of resource group.
          For each resource group that you assign to a role (default memory auditor
            <code class="ph codeph">vmtracker</code>), this string identifies the used and available
          fixed and shared memory quota allocations on each segment. The key is segment id.
          The values are memory values displayed in MB units. The following example shows
            <code class="ph codeph">memory_usage</code> column output for a single segment for a resource group
          that you assign to a
          role:<pre class="pre codeblock"><code>
"0":{"used":0, "available":76, "quota_used":-1, "quota_available":60, "shared_used":0, "shared_available":16}</code></pre>
          For each resource group that you assign to an external component, the
            <code class="ph codeph">memory_usage</code> JSON-formatted string identifies the memory used and the
          memory limit on each segment. The following example shows <code class="ph codeph">memory_usage</code>
          column output for an external component resource group for a single segment:
          <pre class="pre codeblock"><code>"1":{"used":11, "limit_granted":15}</code></pre></div>

  </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../system_catalogs/catalog_ref-html.html#topic1">System Catalogs Definitions</a></div>
</div>
</div></body>
</html>