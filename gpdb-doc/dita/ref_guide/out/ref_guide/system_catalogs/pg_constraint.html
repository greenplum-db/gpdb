<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="pg_constraint" />
<meta name="DC.relation" scheme="URI" content="../system_catalogs/catalog_ref-html.html#topic1" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="topic1" />
<meta name="DC.language" content="en" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>pg_constraint</title>
</head>
<body id="topic1">

  <h1 class="title topictitle1" id="topic1__gh143896">pg_constraint</h1>

  <div class="body">
    <p class="p">The <code class="ph codeph">pg_constraint</code> system catalog table stores check, primary key, unique,
      and foreign key constraints on tables. Column constraints are not treated specially. Every
      column constraint is equivalent to some table constraint. Not-null constraints are represented
      in the <a class="xref" href="pg_attribute.html#topic1">pg_attribute</a> catalog table. Check
      constraints on domains are stored here, too.</p>

    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic1__gh143898" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>pg_catalog.pg_constraint</span></caption><colgroup><col style="width:131pt" /><col style="width:69.75pt" /><col style="width:99.75pt" /><col style="width:147pt" /></colgroup><thead class="thead" style="text-align:left;">
          <tr class="row">
            <th class="entry nocellnorowborder" style="vertical-align:top;" id="d74602e44">column</th>

            <th class="entry nocellnorowborder" style="vertical-align:top;" id="d74602e47">type</th>

            <th class="entry nocellnorowborder" style="vertical-align:top;" id="d74602e50">references</th>

            <th class="entry cell-norowborder" style="vertical-align:top;" id="d74602e53">description</th>

          </tr>

        </thead>
<tbody class="tbody">
          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">conname</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">name</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">Constraint name (not necessarily unique!)</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">connamespace</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">oid</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 ">pg_namespace.oid</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">The OID of the namespace (schema) that contains this
              constraint.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">contype </code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">char</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 "><code class="ph codeph">c</code> = check constraint, <code class="ph codeph">f</code> =
              foreign key constraint, <code class="ph codeph">p</code> = primary key constraint,
                <code class="ph codeph">u</code> = unique constraint.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">condeferrable</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">boolean</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">Is the constraint deferrable?</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">condeferred </code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">boolean </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">Is the constraint deferred by default?</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 "><code class="ph codeph">convalidated</code></td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">boolean</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">Has the constraint been validated? Currently, can only be false for foreign
              keys</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">conrelid</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">oid</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 ">pg_class.oid</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">The table this constraint is on; 0 if not a table
              constraint.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">contypid </code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">oid</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 ">pg_type.oid</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">The domain this constraint is on; 0 if not a domain
              constraint.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 "><code class="ph codeph">conindid</code></td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">oid</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 ">pg_class.oid</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">The index supporting this constraint, if it's a unique, primary key, foreign key,
              or exclusion constraint; else 0</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">confrelid</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">oid</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 ">pg_class.oid</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">If a foreign key, the referenced table; else 0.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">confupdtype</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">char</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">Foreign key update action code.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">confdeltype</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">char</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">Foreign key deletion action code.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">confmatchtype</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">char</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">Foreign key match type.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 "><code class="ph codeph">conislocal</code></td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">boolean</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">This constraint is defined locally for the relation. Note that a constraint can
              be locally defined and inherited simultaneously.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 "><code class="ph codeph">coninhcount</code></td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">int4</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">The number of direct inheritance ancestors this constraint has. A constraint with
              a nonzero number of ancestors cannot be dropped nor renamed.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">conkey</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">int2[]</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 ">pg_attribute.attnum</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">If a table constraint, list of columns which the constraint
              constrains.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">confkey</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">int2[]</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 ">pg_attribute.attnum</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">If a foreign key, list of the referenced columns.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 "><code class="ph codeph">conpfeqop</code></td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">oid[]</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 ">pg_operator.oid</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">If a foreign key, list of the equality operators for PK = FK comparisons.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 "><code class="ph codeph">conppeqop</code></td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">oid[]</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 ">pg_operator.oid</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">If a foreign key, list of the equality operators for PK = PK comparisons.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 "><code class="ph codeph">conffeqop</code></td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">oid[]</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 ">pg_operator.oid</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">If a foreign key, list of the equality operators for PK = PK comparisons.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 "><code class="ph codeph">conexclop</code></td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">oid[]</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 ">pg_operator.oid</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">If an exclusion constraint, list of the per-column exclusion operators.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">conbin</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e47 ">text </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d74602e50 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d74602e53 ">If a check constraint, an internal representation of the
              expression.</td>

          </tr>

          <tr class="row">
            <td class="entry row-nocellborder" style="vertical-align:top;" headers="d74602e44 ">
              <code class="ph codeph">consrc</code>
            </td>

            <td class="entry row-nocellborder" style="vertical-align:top;" headers="d74602e47 ">text</td>

            <td class="entry row-nocellborder" style="vertical-align:top;" headers="d74602e50 "> </td>

            <td class="entry cellrowborder" style="vertical-align:top;" headers="d74602e53 ">If a check constraint, a human-readable representation of the
              expression. This is not updated when referenced objects change; for example, it won't
              track renaming of columns. Rather than relying on this field, it is best to use
                <code class="ph codeph">pg_get_constraintdef()</code> to extract the definition of a check
              constraint.</td>

          </tr>

        </tbody>
</table>
</div>

  </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../system_catalogs/catalog_ref-html.html#topic1">System Catalogs Definitions</a></div>
</div>
</div></body>
</html>