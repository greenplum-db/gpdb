<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="pg_statistic" />
<meta name="DC.relation" scheme="URI" content="../system_catalogs/catalog_ref-html.html#topic1" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="topic1" />
<meta name="DC.language" content="en" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>pg_statistic</title>
</head>
<body id="topic1">

  <h1 class="title topictitle1" id="topic1__hv156255">pg_statistic</h1>

  <div class="body">
    <p class="p">The <code class="ph codeph">pg_statistic</code> system catalog table stores statistical data about the
      contents of the database. Entries are created by <code class="ph codeph">ANALYZE</code> and subsequently
      used by the query optimizer. There is one entry for each table column that has been analyzed.
      Note that all the statistical data is inherently approximate, even assuming that it is
      up-to-date.</p>

    <p class="p"><code class="ph codeph">pg_statistic</code> also stores statistical data about the values of index
      expressions. These are described as if they were actual data columns; in particular,
        <code class="ph codeph">starelid</code> references the index. No entry is made for an ordinary
      non-expression index column, however, since it would be redundant with the entry for the
      underlying table column. Currently, entries for index expressions always have
      <code class="ph codeph">stainherit = false</code>.</p>

    <p class="p">When <code class="ph codeph">stainherit = false</code>, there is normally one entry for each table column
      that has been analyzed. If the table has inheritance children, Greenplum Database creates
      a second entry with <code class="ph codeph">stainherit = true</code>. This row represents the column's
       statistics over the inheritance tree, for example, statistics for the data you would see
        with <code class="ph codeph">SELECT <var class="keyword varname">column</var> FROM <var class="keyword varname">table</var>*</code>,
        whereas the <code class="ph codeph">stainherit = false</code> row represents the results of
        <code class="ph codeph">SELECT <var class="keyword varname">column</var> FROM ONLY <var class="keyword varname">table</var></code>.</p>

    <p class="p">Since different kinds of statistics may be appropriate for different kinds of data,
        <code class="ph codeph">pg_statistic</code> is designed not to assume very much about what sort of
      statistics it stores. Only extremely general statistics (such as nullness) are given dedicated
      columns in <code class="ph codeph">pg_statistic</code>. Everything else is stored in slots, which are groups
      of associated columns whose content is identified by a code number in one of the slot's
      columns.</p>

    <p class="p">Statistical information about a table's contents should be considered sensitive (for example:
      minimum and maximum values of a salary column). <code class="ph codeph">pg_stats</code> is a publicly
      readable view on <code class="ph codeph">pg_statistic</code> that only exposes information about those
      tables that are readable by the current user.</p>

    <div class="note warning"><span class="warningtitle">Warning:</span> Diagnostic tools such as <code class="ph codeph">gpsd</code> and
        <code class="ph codeph">minirepro</code> collect sensitive information from <code class="ph codeph">pg_statistic</code>,
      such as histogram boundaries, in a clear, readable form. Always review the output files of
      these utilities to ensure that the contents are acceptable for transport outside of the
      database in your organization.</div>

    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic1__hv156260" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>pg_catalog.pg_statistic</span></caption><colgroup><col style="width:131pt" /><col style="width:60.75pt" /><col style="width:104.25pt" /><col style="width:147pt" /></colgroup><thead class="thead" style="text-align:left;">
          <tr class="row">
            <th class="entry nocellnorowborder" style="vertical-align:top;" id="d199116e114">column</th>

            <th class="entry nocellnorowborder" style="vertical-align:top;" id="d199116e117">type</th>

            <th class="entry nocellnorowborder" style="vertical-align:top;" id="d199116e120">references</th>

            <th class="entry cell-norowborder" style="vertical-align:top;" id="d199116e123">description</th>

          </tr>

        </thead>
<tbody class="tbody">
          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e114 ">
              <code class="ph codeph">starelid</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e117 ">oid</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e120 ">pg_class.oid </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d199116e123 ">The table or index that the described column belongs to.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e114 ">
              <code class="ph codeph">staattnum</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e117 ">int2</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e120 ">pg_attribute.attnum</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d199116e123 ">The number of the described column.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e114 ">
              <code class="ph codeph">stainherit</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e117 ">bool</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e120 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d199116e123 ">If true, the statistics include inheritance child columns,
              not just the values in the specified relations.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e114 ">
              <code class="ph codeph">stanullfrac</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e117 ">float4</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e120 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d199116e123 ">The fraction of the column's entries that are null.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e114 ">
              <code class="ph codeph">stawidth</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e117 ">int4</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e120 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d199116e123 ">The average stored width, in bytes, of nonnull entries.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e114 ">
              <code class="ph codeph">stadistinct</code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e117 ">float4</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e120 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d199116e123 ">The number of distinct nonnull data values in the column. A value
              greater than zero is the actual number of distinct values. A value less than zero is
              the negative of a fraction of the number of rows in the table (for example, a column
              in which values appear about twice on the average could be represented by
                <code class="ph codeph">stadistinct</code> = -0.5). A zero value means the number of distinct
              values is unknown.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e114 ">
              <code class="ph codeph">stakind<em class="ph i">N</em></code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e117 ">int2</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e120 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d199116e123 ">A code number indicating the kind of statistics stored in the
                <code class="ph codeph">N</code>th slot of the <code class="ph codeph">pg_statistic</code> row.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e114 ">
              <code class="ph codeph">staop<em class="ph i">N</em></code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e117 ">oid</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e120 ">pg_operator.oid</td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d199116e123 ">An operator used to derive the statistics stored in the
                <code class="ph codeph">N</code>th slot. For example, a histogram slot would show the
                <code class="ph codeph">&lt;</code> operator that defines the sort order of the data.</td>

          </tr>

          <tr class="row">
            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e114 ">
              <code class="ph codeph">stanumbers<em class="ph i">N</em></code>
            </td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e117 ">float4[]</td>

            <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d199116e120 "> </td>

            <td class="entry cell-norowborder" style="vertical-align:top;" headers="d199116e123 ">Numerical statistics of the appropriate kind for the
                <code class="ph codeph">N</code>th slot, or NULL if the slot kind does not involve numerical
              values.</td>

          </tr>

          <tr class="row">
            <td class="entry row-nocellborder" style="vertical-align:top;" headers="d199116e114 ">
              <code class="ph codeph">stavalues<em class="ph i">N</em></code>
            </td>

            <td class="entry row-nocellborder" style="vertical-align:top;" headers="d199116e117 ">anyarray</td>

            <td class="entry row-nocellborder" style="vertical-align:top;" headers="d199116e120 "> </td>

            <td class="entry cellrowborder" style="vertical-align:top;" headers="d199116e123 ">Column data values of the appropriate kind for the
                <code class="ph codeph">N</code>th slot, or NULL if the slot kind does not store any data values.
              Each array's element values are actually of the specific column's data type, so there
              is no way to define these columns' type more specifically than
                <code class="ph codeph">anyarray</code>.</td>

          </tr>

        </tbody>
</table>
</div>

  </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../system_catalogs/catalog_ref-html.html#topic1">System Catalogs Definitions</a></div>
</div>
</div></body>
</html>