<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="The gp_toolkit Administrative Schema" />
<meta name="DC.relation" scheme="URI" content="ref_guide.html" />
<meta name="DC.relation" scheme="URI" content="gp_toolkit.html#topic2" />
<meta name="DC.relation" scheme="URI" content="gp_toolkit.html#topic5" />
<meta name="DC.relation" scheme="URI" content="gp_toolkit.html#topic8" />
<meta name="DC.relation" scheme="URI" content="gp_toolkit.html#topic16" />
<meta name="DC.relation" scheme="URI" content="gp_toolkit.html#topic21" />
<meta name="DC.relation" scheme="URI" content="gp_toolkit.html#topic24" />
<meta name="DC.relation" scheme="URI" content="gp_toolkit.html#topic26x" />
<meta name="DC.relation" scheme="URI" content="gp_toolkit.html#topic26" />
<meta name="DC.relation" scheme="URI" content="gp_toolkit.html#topic32" />
<meta name="DC.relation" scheme="URI" content="gp_toolkit.html#topic36" />
<meta name="DC.relation" scheme="URI" content="gp_toolkit.html#topic38" />
<meta name="DC.relation" scheme="URI" content="gp_toolkit.html#topic49" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="topic1" />
<meta name="DC.language" content="en" />
<link rel="stylesheet" type="text/css" href="commonltr.css" />
<title>The gp_toolkit Administrative Schema</title>
</head>
<body id="topic1">

  <h1 class="title topictitle1" id="topic1__ie179298">The gp_toolkit Administrative Schema</h1>

  <div class="body">
    <p class="p">Greenplum Database provides an administrative schema called <code class="ph codeph">gp_toolkit</code> that you can use to query the system
      catalogs, log files, and operating environment for system status information. The <code class="ph codeph">gp_toolkit</code> schema contains a number of views that
      you can access using SQL commands. The <code class="ph codeph">gp_toolkit</code> schema is accessible to all database users, although some objects may
      require superuser permissions. For convenience, you may want to add the <code class="ph codeph">gp_toolkit</code> schema to your schema search path. For
      example:</p>

    <pre class="pre codeblock"><code>=&gt; ALTER ROLE myrole SET search_path TO myschema,gp_toolkit;</code></pre>
    <p class="p">This documentation describes the most useful views in <code class="ph codeph">gp_toolkit</code>. You may notice other objects (views, functions, and external tables)
      within the <code class="ph codeph">gp_toolkit</code> schema that are not
      described in this documentation (these are supporting objects to the views described in this
      section).</p>

    <div class="note warning"><span class="warningtitle">Warning:</span> Do not change database objects in the gp_toolkit
      schema. Do not create database objects in the schema. Changes to objects in the schema might
      affect the accuracy of administrative information returned by schema objects. <span class="ph">Any changes
        made in the gp_toolkit schema are lost when the database is backed up and then restored with
        the <code class="ph codeph">gpbackup</code> and <code class="ph codeph">gprestore</code> utilities. </span></div>

    <p class="p">These are the categories for views in the <code class="ph codeph">gp_toolkit</code>
      schema.</p>

  </div>

  <div class="related-links">
<ul class="ullinks">
<li class="link ulchildlink"><strong><a href="gp_toolkit.html#topic2">Checking for Tables that Need Routine Maintenance</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="gp_toolkit.html#topic5">Checking for Locks</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="gp_toolkit.html#topic8">Checking Append-Optimized Tables</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="gp_toolkit.html#topic16">Viewing Greenplum Database Server Log Files</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="gp_toolkit.html#topic21">Checking Server Configuration Files</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="gp_toolkit.html#topic24">Checking for Failed Segments</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="gp_toolkit.html#topic26x">Checking Resource Group Activity and Status</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="gp_toolkit.html#topic26">Checking Resource Queue Activity and Status</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="gp_toolkit.html#topic32">Checking Query Disk Spill Space Usage</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="gp_toolkit.html#topic36">Viewing Users and Groups (Roles)</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="gp_toolkit.html#topic38">Checking Database Object Sizes and Disk Space</a></strong><br />
</li>
<li class="link ulchildlink"><strong><a href="gp_toolkit.html#topic49">Checking for Uneven Data Distribution</a></strong><br />
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="ref_guide.html" title="Reference information for Greenplum Database systems including SQL commands, system catalogs, environment variables, server configuration parameters, character set support, datatypes, and Greenplum Database extensions.">Greenplum Database Reference Guide</a></div>
</div>
</div><div class="topic nested1" aria-labelledby="ariaid-title2" xml:lang="en" lang="en" id="topic2">
    <h2 class="title topictitle2" id="ariaid-title2">Checking for Tables that Need Routine Maintenance</h2>

    <div class="body">
      <p class="p">The following views can help identify tables that need routine table maintenance (<code class="ph codeph">VACUUM</code> and/or <code class="ph codeph">ANALYZE</code>). </p>

      <ul class="ul">
        <li class="li" id="topic2__ie194425">
          <a class="xref" href="#topic3">gp_bloat_diag</a>
        </li>

        <li class="li" id="topic2__ie194439">
          <a class="xref" href="#topic4">gp_stats_missing</a>
        </li>

      </ul>

      <p class="p">The <code class="ph codeph">VACUUM</code> or <code class="ph codeph">VACUUM FULL</code> command reclaims disk space occupied
        by deleted or obsolete rows. Because of the MVCC transaction concurrency model used in
        Greenplum Database, data rows that are deleted or updated still occupy physical space on
        disk even though they are not visible to any new transactions. Expired rows increase table
        size on disk and eventually slow down scans of the table.</p>

      <p class="p">The <code class="ph codeph">ANALYZE</code> command collects column-level
        statistics needed by the query optimizer. Greenplum Database uses a cost-based query
        optimizer that relies on database statistics. Accurate statistics allow the query optimizer
        to better estimate selectivity and the number of rows retrieved by a query operation in
        order to choose the most efficient query plan.</p>

    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="gp_toolkit.html">The gp_toolkit Administrative Schema</a></div>
</div>
</div><div class="topic nested2" aria-labelledby="topic3__ie191889" xml:lang="en" lang="en" id="topic3">
      <h3 class="title topictitle3" id="topic3__ie191889">gp_bloat_diag</h3>

      <div class="body">
        <div class="p">This view shows regular heap-storage tables that have bloat (the actual number of pages
          on disk exceeds the expected number of pages given the table statistics). Tables that are
          bloated require a <code class="ph codeph">VACUUM</code> or a <code class="ph codeph">VACUUM FULL</code> in order to reclaim disk space
          occupied by deleted or obsolete rows. This view is accessible to all users, however
          non-superusers will only be able to see the tables that they have permission to access.
          <div class="note"><span class="notetitle">Note:</span>  For diagnostic functions that return append-optimized table information, see <a class="xref" href="#topic8">Checking Append-Optimized Tables</a>.</div>
</div>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic3__ie184997" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>gp_bloat_diag view</span></caption><colgroup><col style="width:108pt" /><col style="width:267pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e225">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e228">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e225 ">bdirelid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e228 ">Table object id.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e225 ">bdinspname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e228 ">Schema name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e225 ">bdirelname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e228 ">Table name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e225 ">bdirelpages</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e228 ">Actual number of pages on disk.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e225 ">bdiexppages</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e228 ">Expected number of pages given the
                  table data.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e225 ">bdidiag</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e228 ">Bloat diagnostic message.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic4__ie194264" xml:lang="en" lang="en" id="topic4">
      <h3 class="title topictitle3" id="topic4__ie194264">gp_stats_missing</h3>

      <div class="body">
        <p class="p">This view shows tables that do not have statistics and therefore may require an <code class="ph codeph">ANALYZE</code> be run on the table.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic4__ie194266" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 2. </span>gp_stats_missing view</span></caption><colgroup><col style="width:108pt" /><col style="width:268pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e323">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e326">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e323 ">smischema </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e326 ">Schema name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e323 ">smitable </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e326 ">Table name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e323 ">smisize </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e326 ">Does this table have statistics? False
                  if the table does not have row count and row sizing statistics recorded in the
                  system catalog, which may indicate that the table needs to be analyzed. This will
                  also be false if the table does not contain any rows. For example, the parent
                  tables of partitioned tables are always empty and will always return a false
                  result. </td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e323 ">smicols </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e326 ">Number of columns in the table.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e323 ">smirecs </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e326 ">The total number of columns in
                  the table that have statistics recorded.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

  </div>

  <div class="topic nested1" aria-labelledby="ariaid-title5" xml:lang="en" lang="en" id="topic5">
    <h2 class="title topictitle2" id="ariaid-title5">Checking for Locks</h2>

    <div class="body">
      <p class="p">When a transaction accesses a relation (such as a table), it acquires a lock. Depending on
        the type of lock acquired, subsequent transactions may have to wait before they can access
        the same relation. For more information on the types of locks, see "Managing Data" in the
          <em class="ph i">Greenplum Database Administrator Guide</em>. Greenplum Database resource queues (used
        for resource management) also use locks to control the admission of queries into the
        system.</p>

      <p class="p">The <code class="ph codeph">gp_locks_*</code> family of views can help
        diagnose queries and sessions that are waiting to access an object due to a lock. </p>

      <ul class="ul">
        <li class="li" id="topic5__ie192244">
          <a class="xref" href="#topic6">gp_locks_on_relation</a>
        </li>

        <li class="li" id="topic5__ie192303">
          <a class="xref" href="#topic7">gp_locks_on_resqueue</a>
        </li>

      </ul>

    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="gp_toolkit.html">The gp_toolkit Administrative Schema</a></div>
</div>
</div><div class="topic nested2" aria-labelledby="topic6__ie192116" xml:lang="en" lang="en" id="topic6">
      <h3 class="title topictitle3" id="topic6__ie192116">gp_locks_on_relation</h3>

      <div class="body">
        <p class="p">This view shows any locks currently being held on a relation, and the associated session
          information about the query associated with the lock. For more information on the types of
          locks, see "Managing Data" in the <em class="ph i">Greenplum Database Administrator Guide</em>. This view
          is accessible to all users, however non-superusers will only be able to see the locks for
          relations that they have permission to access. </p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic6__ie180973" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 3. </span>gp_locks_on_relation view</span></caption><colgroup><col style="width:111pt" /><col style="width:266pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e456">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e459">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e456 ">lorlocktype</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e459 ">Type of the lockable object: <code class="ph codeph">relation</code>, <code class="ph codeph">extend</code>, <code class="ph codeph">page</code>, <code class="ph codeph">tuple</code>, <code class="ph codeph">transactionid</code>, <code class="ph codeph">object</code>, <code class="ph codeph">userlock</code>, <code class="ph codeph">resource queue</code>, or <code class="ph codeph">advisory</code></td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e456 ">lordatabase</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e459 ">Object ID of the database in which the
                  object exists, zero if the object is a shared object.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e456 ">lorrelname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e459 ">The name of the relation.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e456 ">lorrelation</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e459 ">The object ID of the relation.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e456 ">lortransaction</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e459 ">The transaction ID that is affected by
                  the lock.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e456 ">lorpid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e459 ">Process ID of the server process
                  holding or awaiting this lock. NULL if the lock is held by a prepared
                  transaction.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e456 ">lormode</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e459 ">Name of the lock mode held or desired
                  by this process.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e456 ">lorgranted</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e459 ">Displays whether the lock is granted
                  (true) or not granted (false).</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e456 ">lorcurrentquery</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e459 ">The current query in the
                  session.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic7__ie179843" xml:lang="en" lang="en" id="topic7">
      <h3 class="title topictitle3" id="topic7__ie179843">gp_locks_on_resqueue </h3>

      <div class="body">
        <div class="note"><span class="notetitle">Note:</span> The <code class="ph codeph">gp_locks_on_resqueue</code> view is valid only when resource queue-based
          resource management is active.</div>

        <p class="p">This view shows any locks currently being held on a resource queue, and the associated
          session information about the query associated with the lock. This view is accessible to
          all users, however non-superusers will only be able to see the locks associated with their
          own sessions.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic7__ie184727" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 4. </span>gp_locks_on_resqueue view</span></caption><colgroup><col style="width:110pt" /><col style="width:266pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e611">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e614">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e611 ">lorusename</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e614 ">Name of the user running the
                  session.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e611 ">lorrsqname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e614 ">The resource queue name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e611 ">lorlocktype</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e614 ">Type of the lockable object: <code class="ph codeph">resource queue</code></td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e611 ">lorobjid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e614 ">The ID of the locked
                  transaction.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e611 ">lortransaction</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e614 ">The ID of the transaction that is
                  affected by the lock.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e611 ">lorpid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e614 ">The process ID of the transaction that
                  is affected by the lock.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e611 ">lormode</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e614 ">The name of the lock mode held or
                  desired by this process.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e611 ">lorgranted</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e614 ">Displays whether the lock is granted
                  (true) or not granted (false).</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e611 ">lorwaiting</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e614 ">Displays whether or not the session is
                  waiting.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

  </div>

  <div class="topic nested1" aria-labelledby="ariaid-title8" xml:lang="en" lang="en" id="topic8">
    <h2 class="title topictitle2" id="ariaid-title8">Checking Append-Optimized Tables</h2>

    <div class="body">
      <p class="p">The <code class="ph codeph">gp_toolkit</code> schema includes a set of diagnostic functions you can use
        to investigate the state of append-optimized tables.</p>

      <p class="p">When an append-optimized table (or column-oriented append-optimized table) is created,
        another table is implicitly created, containing metadata about the current state of the
        table. The metadata includes information such as the number of records in each of the
        table's segments. </p>

      <p class="p">Append-optimized tables may have non-visible rows—rows that have been updated or deleted,
        but remain in storage until the table is compacted using <code class="ph codeph">VACUUM</code>. The hidden rows are tracked using an
        auxiliary visibility map table, or visimap. </p>

      <p class="p">The following functions let you access the metadata for append-optimized and
        column-oriented tables and view non-visible rows. </p>

      <p class="p">For most of the functions, the input argument is <code class="ph codeph">regclass</code>, either the
        table <code class="ph codeph">name</code> or the <code class="ph codeph">oid</code> of a table.</p>

    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="gp_toolkit.html">The gp_toolkit Administrative Schema</a></div>
</div>
</div><div class="topic nested2" aria-labelledby="ariaid-title9" id="topic_ylp_gxw_yq">
      <h3 class="title topictitle3" id="ariaid-title9">__gp_aovisimap_compaction_info(oid)</h3>

      <div class="body">
        <p class="p">This function displays compaction information for an append-optimized table. The
          information is for the on-disk data files on Greenplum Database segments that store the
          table data. You can use the information to determine the data files that will be compacted
          by a <code class="ph codeph">VACUUM</code> operation on an append-optimized table.</p>

        <div class="note"><span class="notetitle">Note:</span> Until a <span class="keyword cmdname">VACUUM</span> operation deletes the row from the data file,
          deleted or updated data rows occupy physical space on disk even though they are hidden to
          new transactions. The configuration parameter <a class="xref" href="config_params/guc-list.html#gp_appendonly_compaction">gp_appendonly_compaction</a> controls the functionality of the
            <code class="ph codeph">VACUUM</code> command.</div>

        <p class="p">This table describes the <span class="keyword cmdname">__gp_aovisimap_compaction_info</span> function
          output table.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic_ylp_gxw_yq__table_wr2_dcv_mq" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 5. </span>__gp_aovisimap_compaction_info output table</span></caption><colgroup><col style="width:108pt" /><col style="width:266pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e803">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e806">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e803 ">content</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e806 ">Greenplum Database segment ID.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e803 ">datafile</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e806 ">ID of the data file on the segment.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e803 ">compaction_possible</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e806 ">The value is either <code class="ph codeph">t</code> or <code class="ph codeph">f</code>. The value
                    <code class="ph codeph">t</code> indicates that the data in data file be compacted when a
                    <span class="keyword cmdname">VACUUM</span> operation is performed. <p class="p">The server configuration
                    parameter <code class="ph codeph">gp_appendonly_compaction_threshold</code> affects this
                    value.</p>
</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e803 ">hidden_tupcount</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e806 ">In the data file, the number of hidden (deleted or updated) rows. </td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e803 ">total_tupcount</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e806 ">In the data file, the total number of rows. </td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e803 ">percent_hidden</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e806 ">In the data file, the ratio (as a percentage) of hidden (deleted or updated)
                  rows to total rows. </td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="ariaid-title10" xml:lang="en" lang="en" id="topic9">
      <h3 class="title topictitle3" id="ariaid-title10">__gp_aoseg(regclass)</h3>

      <div class="body">
        <p class="p">This function returns metadata information contained in the append-optimized table's
          on-disk segment file. </p>

        <p class="p">The input argument is the name or the oid of an append-optimized table. </p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic9__ie202159" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 6. </span>__gp_aoseg_name output table</span></caption><colgroup><col style="width:108pt" /><col style="width:266pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e918">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e921">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e918 ">segno</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e921 ">The file segment number. </td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e918 ">eof</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e921 ">The effective end of file for this file
                  segment.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e918 ">tupcount</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e921 ">The total number of tuples in the
                  segment, including invisible tuples. </td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e918 ">varblockcount</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e921 ">The total number of varblocks in the
                  file segment.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e918 ">eof_uncompressed</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e921 ">The end of file if the file segment
                  were uncompressed.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e918 ">modcount</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e921 ">The number of data modification
                  operations.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e918 ">state</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e921 ">The state of the file segment.
                  Indicates if the segment is active or ready to be dropped after compaction.
                </td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="ariaid-title11" xml:lang="en" lang="en" id="topic10">
      <h3 class="title topictitle3" id="ariaid-title11">__gp_aoseg_history(regclass)</h3>

      <div class="body">
        <p class="p">This function returns metadata information contained in the append-optimized table's
          on-disk segment file. It displays all different versions (heap tuples) of the aoseg meta
          information. The data is complex, but users with a deep understanding of the system may
          find it useful for debugging.</p>

        <p class="p">The input argument is the name or the oid of an append-optimized table. </p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic10__ie202200" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 7. </span>__gp_aoseg_history output table</span></caption><colgroup><col style="width:115pt" /><col style="width:260pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e1025">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e1028">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">gp_tid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">The id of the tuple.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">gp_xmin</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">The id of the earliest
                  transaction.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">gp_xmin_status</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">Status of the gp_xmin
                  transaction.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">gp_xmin_commit_</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">The commit distribution id of the
                  gp_xmin transaction.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">gp_xmax</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">The id of the latest
                  transaction.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">gp_xmax_status</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">The status of the latest
                  transaction.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">gp_xmax_commit_</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">The commit distribution id of the
                  gp_xmax transaction.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">gp_command_id</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">The id of the query command. </td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">gp_infomask</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">A bitmap containing state
                  information.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">gp_update_tid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">The ID of the newer tuple if the row is
                  updated.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">gp_visibility</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">The tuple visibility status.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">segno</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">The number of the segment in the
                  segment file.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">tupcount</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">The number of tuples, including hidden
                  tuples.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">eof</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">The effective end of file for the
                  segment.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">eof_uncompressed</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">The end of file for the segment if data
                  were uncompressed.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1025 ">modcount</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1028 ">A count of data modifications.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e1025 ">state</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e1028 ">The status of the segment.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="ariaid-title12" xml:lang="en" lang="en" id="topic11">
      <h3 class="title topictitle3" id="ariaid-title12">__gp_aocsseg(regclass)</h3>

      <div class="body">
        <p class="p">This function returns metadata information contained in a column-oriented
          append-optimized table's on-disk segment file, excluding non-visible rows. Each row
          describes a segment for a column in the table.</p>

        <p class="p">The input argument is the name or the oid of a column-oriented append-optimized table. </p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic11__ie202280" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 8. </span>__gp_aocsseg(oid) output table</span></caption><colgroup><col style="width:108pt" /><col style="width:266pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e1224">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e1227">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1224 ">gp_tid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1227 ">The table id. </td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1224 ">segno</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1227 ">The segment number.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1224 ">column_num</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1227 ">The column number.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1224 ">physical_segno</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1227 ">The number of the segment in the
                  segment file.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1224 ">tupcount</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1227 ">The number of rows in the segment,
                  excluding hidden tuples.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1224 ">eof</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1227 ">The effective end of file for the
                  segment.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1224 ">eof_uncompressed</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1227 ">The end of file for the segment if the
                  data were uncompressed.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1224 ">modcount</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1227 ">A count of data modification operations
                  for the segment.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e1224 ">state</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e1227 ">The status of the segment.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="ariaid-title13" xml:lang="en" lang="en" id="topic12">
      <h3 class="title topictitle3" id="ariaid-title13">__gp_aocsseg_history(regclass)</h3>

      <div class="body">
        <p class="p">This function returns metadata information contained in a column-oriented
          append-optimized table's on-disk segment file. Each row describes a segment for a column
          in the table. The data is complex, but users with a deep understanding of the system may
          find it useful for debugging.</p>

        <p class="p"> The input argument is the name or the oid of a column-oriented append-optimized table. </p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic12__ie202328" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 9. </span>__gp_aocsseg_history output table</span></caption><colgroup><col style="width:108pt" /><col style="width:266pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e1349">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e1352">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">gp_tid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">The oid of the tuple.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">gp_xmin</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">The earliest transaction.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">gp_xmin_status</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">The status of the gp_xmin
                  transaction.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">gp_xmin_</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">Text representation of gp_xmin.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">gp_xmax</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">The latest transaction.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">gp_xmax_status</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">The status of the gp_xmax
                  transaction.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">gp_xmax_</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">Text representation of gp_max.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">gp_command_id</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">ID of the command operating on the
                  tuple.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">gp_infomask</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">A bitmap containing state
                  information.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">gp_update_tid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">The ID of the newer tuple if the row is
                  updated.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">gp_visibility</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">The tuple visibility status.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">segno</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">The segment number in the segment
                  file.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">column_num</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">The column number.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">physical_segno</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">The segment containing data for the
                  column.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">tupcount</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">The total number of tuples in the
                  segment.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">eof</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">The effective end of file for the
                  segment.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">eof_uncompressed</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">The end of file for the segment if the
                  data were uncompressed.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1349 ">modcount</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1352 ">A count of the data modification
                  operations.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e1349 ">state</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e1352 ">The state of the segment.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="ariaid-title14" xml:lang="en" lang="en" id="topic13">
      <h3 class="title topictitle3" id="ariaid-title14">__gp_aovisimap(regclass)</h3>

      <div class="body">
        <p class="p">This function returns the tuple ID, the segment file, and the row number of each
          non-visible tuple according to the visibility map.</p>

        <p class="p">The input argument is the name or the oid of an append-optimized table.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic13__ie202417" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:108pt" /><col style="width:266pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e1563">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e1566">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1563 ">tid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1566 ">The tuple id. </td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1563 ">segno</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1566 ">The number of the segment file.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e1563 ">row_num</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e1566 ">The row number of a row that has been
                  deleted or updated.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="ariaid-title15" xml:lang="en" lang="en" id="topic14">
      <h3 class="title topictitle3" id="ariaid-title15">__gp_aovisimap_hidden_info(regclass)</h3>

      <div class="body">
        <p class="p">This function returns the numbers of hidden and visible tuples in the segment files for
          an append-optimized table.</p>

        <p class="p">The input argument is the name or the oid of an append-optimized table. </p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic14__ie202442" class="table" frame="border" border="1" rules="all"><colgroup><col style="width:108pt" /><col style="width:266pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e1630">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e1633">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1630 ">segno</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1633 ">The number of the segment file.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1630 ">hidden_tupcount</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1633 ">The number of hidden tuples in the
                  segment file.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e1630 ">total_tupcount</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e1633 ">The total number of tuples in the
                  segment file. </td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="ariaid-title16" xml:lang="en" lang="en" id="topic15">
      <h3 class="title topictitle3" id="ariaid-title16">__gp_aovisimap_entry(regclass) </h3>

      <div class="body">
        <p class="p">This function returns information about each visibility map entry for the table.</p>

        <p class="p">The input argument is the name or the oid of an append-optimized table.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic15__ie202467" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 10. </span>__gp_aovisimap_entry output table</span></caption><colgroup><col style="width:108pt" /><col style="width:266pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e1700">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e1703">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1700 ">segno</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1703 ">Segment number of the visibility map
                  entry. </td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1700 ">first_row_num</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1703 ">The first row number of the
                  entry.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1700 ">hidden_tupcount</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1703 ">The number of hidden tuples in the
                  entry.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e1700 ">bitmap</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e1703 ">A text representation of the visibility
                  bitmap.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

  </div>

  <div class="topic nested1" aria-labelledby="ariaid-title17" xml:lang="en" lang="en" id="topic16">
    <h2 class="title topictitle2" id="ariaid-title17">Viewing Greenplum Database Server Log Files</h2>

    <div class="body">
      <p class="p">Each component of a Greenplum Database system (master, standby master, primary segments,
        and mirror segments) keeps its own server log files. The <code class="ph codeph">gp_log_*</code> family of views allows you to issue SQL
        queries against the server log files to find particular entries of interest. The use of
        these views require superuser permissions.</p>

      <ul class="ul">
        <li class="li" id="topic16__ie192338">
          <a class="xref" href="#topic17">gp_log_command_timings</a>
        </li>

        <li class="li" id="topic16__ie192373">
          <a class="xref" href="#topic18">gp_log_database</a>
        </li>

        <li class="li" id="topic16__ie192386">
          <a class="xref" href="#topic19">gp_log_master_concise</a>
        </li>

        <li class="li" id="topic16__ie192391">
          <a class="xref" href="#topic20">gp_log_system</a>
        </li>

      </ul>

    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="gp_toolkit.html">The gp_toolkit Administrative Schema</a></div>
</div>
</div><div class="topic nested2" aria-labelledby="topic17__ie192312" xml:lang="en" lang="en" id="topic17">
      <h3 class="title topictitle3" id="topic17__ie192312">gp_log_command_timings</h3>

      <div class="body">
        <p class="p">This view uses an external table to read the log files on the master and report the
          run time of SQL commands in a database session. The use of this view
          requires superuser permissions.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic17__ie176169" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 11. </span>gp_log_command_timings view</span></caption><colgroup><col style="width:114pt" /><col style="width:262pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e1830">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e1833">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1830 ">logsession </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1833 ">The session identifier (prefixed with
                  "con").</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1830 ">logcmdcount </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1833 ">The command number within a session
                  (prefixed with "cmd").</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1830 ">logdatabase </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1833 ">The name of the database.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1830 ">loguser </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1833 ">The name of the database user.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1830 ">logpid </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1833 ">The process id (prefixed with
                  "p").</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1830 ">logtimemin </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1833 ">The time of the first log message for
                  this command.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1830 ">logtimemax </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1833 ">The time of the last log message for
                  this command.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e1830 ">logduration </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e1833 ">Statement duration from start to end
                  time. </td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic18__ie173484" xml:lang="en" lang="en" id="topic18">
      <h3 class="title topictitle3" id="topic18__ie173484">gp_log_database</h3>

      <div class="body">
        <p class="p">This view uses an external table to read the server log files of the entire Greenplum
          system (master, segments, and mirrors) and lists log entries associated with the current
          database. Associated log entries can be identified by the session id (logsession) and
          command id (logcmdcount). The use of this view requires superuser permissions.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic18__ie177059" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 12. </span>gp_log_database view</span></caption><colgroup><col style="width:114pt" /><col style="width:263pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e1943">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e1946">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logtime </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The timestamp of the log
                  message.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">loguser </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The name of the database user.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logdatabase </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The name of the database.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logpid </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The associated process id (prefixed
                  with "p").</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logthread </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The associated thread count (prefixed
                  with "th").</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">loghost </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The segment or master host
                  name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logport </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The segment or master port.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logsessiontime </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">Time session connection was
                  opened.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logtransaction </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">Global transaction id.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logsession </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The session identifier (prefixed with
                  "con").</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logcmdcount </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The command number within a session
                  (prefixed with "cmd").</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logsegment </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The segment content identifier
                  (prefixed with "seg" for primary or "mir" for mirror. The master always has a
                  content id of -1).</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logslice </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The slice id (portion of the query plan
                  being run).</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logdistxact </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">Distributed transaction id.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">loglocalxact </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">Local transaction id.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logsubxact </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">Subtransaction id.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logseverity </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">LOG, ERROR, FATAL, PANIC, DEBUG1 or
                  DEBUG2.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logstate </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">SQL state code associated with the log
                  message.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logmessage </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">Log or error message text.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logdetail </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">Detail message text associated with an
                  error message.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">loghint </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">Hint message text associated with an
                  error message.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logquery </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The internally-generated query
                  text.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logquerypos </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The cursor index into the
                  internally-generated query text.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logcontext </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The context in which this message gets
                  generated.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logdebug </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">Query string with full detail for
                  debugging.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logcursorpos </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The cursor index into the query
                  string.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logfunction </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The function in which this message is
                  generated.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logfile </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The log file in which this message is
                  generated.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e1943 ">logline </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e1946 ">The line in the log file in which this
                  message is generated.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e1943 ">logstack</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e1946 ">Full text of the stack trace associated
                  with this message.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic19__ie191863" xml:lang="en" lang="en" id="topic19">
      <h3 class="title topictitle3" id="topic19__ie191863">gp_log_master_concise</h3>

      <div class="body">
        <p class="p">This view uses an external table to read a subset of the log fields from the master log
          file. The use of this view requires superuser permissions.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic19__ie177543" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 13. </span>gp_log_master_concise view</span></caption><colgroup><col style="width:113pt" /><col style="width:263pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e2258">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e2261">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2258 ">logtime </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2261 ">The timestamp of the log
                  message.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2258 ">logdatabase </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2261 ">The name of the database.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2258 ">logsession </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2261 ">The session identifier (prefixed with
                  "con").</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2258 ">logcmdcount </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2261 ">The command number within a session
                  (prefixed with "cmd").</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2258 ">logseverity</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2261 ">The log severity level.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e2258 ">logmessage </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e2261 ">Log or error message text.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic20__ie173472" xml:lang="en" lang="en" id="topic20">
      <h3 class="title topictitle3" id="topic20__ie173472">gp_log_system</h3>

      <div class="body">
        <p class="p">This view uses an external table to read the server log files of the entire Greenplum
          system (master, segments, and mirrors) and lists all log entries. Associated log entries
          can be identified by the session id (logsession) and command id (logcmdcount). The use of
          this view requires superuser permissions. </p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic20__ie177596" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 14. </span>gp_log_system view</span></caption><colgroup><col style="width:112pt" /><col style="width:265pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e2354">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e2357">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logtime </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The timestamp of the log
                  message.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">loguser </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The name of the database user.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logdatabase </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The name of the database.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logpid </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The associated process id (prefixed
                  with "p").</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logthread </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The associated thread count (prefixed
                  with "th").</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">loghost </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The segment or master host
                  name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logport </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The segment or master port.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logsessiontime </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">Time session connection was
                  opened.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logtransaction </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">Global transaction id.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logsession </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The session identifier (prefixed with
                  "con").</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logcmdcount </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The command number within a session
                  (prefixed with "cmd").</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logsegment </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The segment content identifier
                  (prefixed with "seg" for primary or "mir" for mirror. The master always has a
                  content id of -1).</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logslice </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The slice id (portion of the query plan
                  being run).</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logdistxact </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">Distributed transaction id.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">loglocalxact </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">Local transaction id.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logsubxact </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">Subtransaction id.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logseverity </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">LOG, ERROR, FATAL, PANIC, DEBUG1 or
                  DEBUG2.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logstate </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">SQL state code associated with the log
                  message.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logmessage </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">Log or error message text.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logdetail </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">Detail message text associated with an
                  error message.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">loghint </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">Hint message text associated with an
                  error message.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logquery </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The internally-generated query
                  text.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logquerypos </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The cursor index into the
                  internally-generated query text.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logcontext </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The context in which this message gets
                  generated.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logdebug </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">Query string with full detail for
                  debugging.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logcursorpos </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The cursor index into the query
                  string.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logfunction </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The function in which this message is
                  generated.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logfile </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The log file in which this message is
                  generated.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2354 ">logline </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2357 ">The line in the log file in which this
                  message is generated.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e2354 ">logstack </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e2357 ">Full text of the stack trace associated
                  with this message.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

  </div>

  <div class="topic nested1" aria-labelledby="ariaid-title22" xml:lang="en" lang="en" id="topic21">
    <h2 class="title topictitle2" id="ariaid-title22">Checking Server Configuration Files</h2>

    <div class="body">
      <p class="p">Each component of a Greenplum Database system (master, standby master, primary segments,
        and mirror segments) has its own server configuration file (<code class="ph codeph">postgresql.conf</code>). The following <code class="ph codeph">gp_toolkit</code> objects can be used to check parameter
        settings across all primary <code class="ph codeph">postgresql.conf</code>
        files in the system:</p>

      <ul class="ul">
        <li class="li" id="topic21__ie192694">
          <a class="xref" href="#topic22">gp_param_setting('parameter_name')</a>
        </li>

        <li class="li" id="topic21__ie192707">
          <a class="xref" href="#topic23">gp_param_settings_seg_value_diffs</a>
        </li>

      </ul>

    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="gp_toolkit.html">The gp_toolkit Administrative Schema</a></div>
</div>
</div><div class="topic nested2" aria-labelledby="topic22__ie192965" xml:lang="en" lang="en" id="topic22">
      <h3 class="title topictitle3" id="topic22__ie192965">gp_param_setting('parameter_name')</h3>

      <div class="body">
        <p class="p">This function takes the name of a server configuration parameter and returns the <code class="ph codeph">postgresql.conf</code> value for the master and each
          active segment. This function is accessible to all users.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic22__ie193033" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 15. </span>gp_param_setting('parameter_name') function</span></caption><colgroup><col style="width:115pt" /><col style="width:262pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e2717">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e2720">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2717 ">paramsegment</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2720 ">The segment content id (only active
                  segments are shown). The master content id is always -1.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2717 ">paramname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2720 ">The name of the parameter.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e2717 ">paramvalue</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e2720 ">The value of the parameter.</td>

              </tr>

            </tbody>
</table>
</div>

        <div class="section" id="topic22__ie192970"><h4 class="title sectiontitle">Example: </h4>
          
          <pre class="pre codeblock"><code>SELECT * FROM gp_param_setting('max_connections');</code></pre>
        </div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic23__ie192963" xml:lang="en" lang="en" id="topic23">
      <h3 class="title topictitle3" id="topic23__ie192963">gp_param_settings_seg_value_diffs </h3>

      <div class="body">
        <p class="p">Server configuration parameters that are classified as <em class="ph i">local</em> parameters (meaning each segment gets the parameter value from its own
            <code class="ph codeph">postgresql.conf</code> file), should be set
          identically on all segments. This view shows local parameter settings that are
          inconsistent. Parameters that are supposed to have different values (such as <code class="ph codeph">port</code>) are not included. This view is accessible
          to all users.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic23__ie181450" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 16. </span>gp_param_settings_seg_value_diffs view</span></caption><colgroup><col style="width:115pt" /><col style="width:262pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e2802">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e2805">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2802 ">psdname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2805 ">The name of the parameter.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2802 ">psdvalue</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2805 ">The value of the parameter.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e2802 ">psdcount</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e2805 ">The number of segments that have this
                  value.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

  </div>

  <div class="topic nested1" aria-labelledby="ariaid-title25" xml:lang="en" lang="en" id="topic24">
    <h2 class="title topictitle2" id="ariaid-title25">Checking for Failed Segments</h2>

    <div class="body">
      <p class="p">The <a class="xref" href="#topic25">gp_pgdatabase_invalid</a> view can be
        used to check for down segments.</p>

    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="gp_toolkit.html">The gp_toolkit Administrative Schema</a></div>
</div>
</div><div class="topic nested2" aria-labelledby="topic25__ie193108" xml:lang="en" lang="en" id="topic25">
      <h3 class="title topictitle3" id="topic25__ie193108">gp_pgdatabase_invalid </h3>

      <div class="body">
        <p class="p">This view shows information about segments that are marked as down in the system catalog.
          This view is accessible to all users.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic25__ie181563" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 17. </span>gp_pgdatabase_invalid view</span></caption><colgroup><col style="width:87pt" /><col style="width:289pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e2892">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e2895">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2892 ">pgdbidbid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2895 ">The segment dbid. Every segment has a
                  unique dbid.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2892 ">pgdbiisprimary</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2895 ">Is the segment currently acting as the
                  primary (active) segment? (t or f)</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2892 ">pgdbicontent</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2895 ">The content id of this segment. A
                  primary and mirror will have the same content id.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e2892 ">pgdbivalid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e2895 ">Is this segment up and valid? (t or
                  f)</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e2892 ">pgdbidefinedprimary</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e2895 ">Was this segment assigned the role of
                  primary at system initialization time? (t or f)</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

  </div>

  <div class="topic nested1" aria-labelledby="ariaid-title27" id="topic26x">
    <h2 class="title topictitle2" id="ariaid-title27">Checking Resource Group Activity and Status</h2>

    <div class="body">
      <div class="note"><span class="notetitle">Note:</span> The resource group activity and status views described in this section are valid only
        when resource group-based resource management is active.</div>

      <p class="p">Resource groups manage transactions to avoid exhausting system CPU and memory resources.
        Every database user is assigned a resource group. Greenplum Database evaluates every
        transaction submitted by a user against the limits configured for the user's resource group
        before running the transaction.</p>

      <p class="p">You can use the <code class="ph codeph">gp_resgroup_config</code> view to check the configuration of each
        resource group. You can use the <code class="ph codeph">gp_resgroup_status*</code> views to display the
        current transaction status and resource usage of each resource group.</p>

      <ul class="ul">
        <li class="li" id="topic26x__ie193806">
          <a class="xref" href="#topic27x">gp_resgroup_config</a>
        </li>

        <li class="li" id="topic26x__ie193833">
          <a class="xref" href="#topic31x">gp_resgroup_status</a>
        </li>

        <li class="li" id="topic26x__tperhost">
          <a class="xref" href="#perhost">gp_resgroup_status_per_host</a>
        </li>

        <li class="li" id="topic26x__tperseg">
          <a class="xref" href="#perseg">gp_resgroup_status_per_segment</a>
        </li>

      </ul>

    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="gp_toolkit.html">The gp_toolkit Administrative Schema</a></div>
</div>
</div><div class="topic nested2" aria-labelledby="topic27x__ie193152x" xml:lang="en" lang="en" id="topic27x">
      <h3 class="title topictitle3" id="topic27x__ie193152x">gp_resgroup_config</h3>

      <div class="body">
        <p class="p">The <code class="ph codeph">gp_resgroup_config</code> view allows administrators to see the current
          CPU, memory, and concurrency limits for a resource group.</p>

        <p class="p">This view is accessible to all users.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic27x__ie177971x" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 18. </span>gp_resgroup_config</span></caption><colgroup><col style="width:85pt" /><col style="width:291pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e3045">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e3048">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3045 ">groupid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3048 ">The ID of the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3045 ">groupname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3048 ">The name of the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3045 ">concurrency</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3048 ">The concurrency
                    (<code class="ph codeph">CONCURRENCY</code>) value specified for the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3045 ">cpu_rate_limit</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3048 ">The CPU limit
                    (<code class="ph codeph">CPU_RATE_LIMIT</code>) value specified for the resource group, or
                  -1.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3045 ">memory_limit</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3048 ">The memory limit
                    (<code class="ph codeph">MEMORY_LIMIT</code>) value specified for the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3045 ">memory_shared_quota</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3048 ">The shared memory quota
                    (<code class="ph codeph">MEMORY_SHARED_QUOTA</code>) value specified for the resource
                  group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3045 ">memory_spill_ratio</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3048 ">The memory spill ratio
                    (<code class="ph codeph">MEMORY_SPILL_RATIO</code>) value specified for the resource
                  group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3045 ">memory_auditor</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3048 ">The memory auditor for the resource
                  group.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e3045 ">cpuset</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e3048 ">The CPU cores reserved for the resource
                  group, or -1.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic31x__ie196285" xml:lang="en" lang="en" id="topic31x">
      <h3 class="title topictitle3" id="topic31x__ie196285">gp_resgroup_status</h3>

      <div class="body">
        <p class="p">The <code class="ph codeph">gp_resgroup_status</code> view allows administrators to see status and
          activity for a resource group. It shows how many queries are waiting to run and how many
          queries are currently active in the system for each resource group. The view also displays
          current memory and CPU usage for the resource group.</p>

        <div class="note"><span class="notetitle">Note:</span> Resource groups use the Linux control groups (cgroups) configured on the host systems.
          The cgroups are used to manage host system resources. When resource groups use cgroups
          that are as part of a nested set of cgroups, resource group limits are relative to the
          parent cgroup allotment. For information about nested cgroups and Greenplum Database
          resource group limits, see <a class="xref" href="../admin_guide/workload_mgmt_resgroups.html#topic8339intro" target="_blank">Using Resource Groups</a>.</div>

        <p class="p">This view is accessible to all users.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic31x__ie196287x" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 19. </span>gp_resgroup_status view</span></caption><colgroup><col style="width:178pt" /><col style="width:198pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e3195">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e3198">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3195 ">rsgname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3198 ">The name of the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3195 ">groupid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3198 ">The ID of the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3195 ">num_running</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3198 ">The number of transactions currently
                  running in the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3195 ">num_queueing</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3198 ">The number of currently queued
                  transactions for the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3195 ">num_queued</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3198 ">The total number of queued transactions
                  for the resource group since the Greenplum Database cluster was last started,
                  excluding the num_queueing.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3195 ">num_executed</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3198 ">The total number of transactions 
                  run in the resource group since the Greenplum Database cluster was last
                  started, excluding the num_running.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3195 ">total_queue_duration</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3198 ">The total time any transaction was
                  queued since the Greenplum Database cluster was last started.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3195 ">cpu_usage</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3198 ">A set of key-value pairs. For each
                  segment instance (the key), the value is the real-time, per-segment instance CPU
                  core usage by a resource group. The value is the sum of the percentages (as a
                  decimal value) of CPU cores that are used by the resource group for the segment
                  instance.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e3195 ">memory_usage</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e3198 ">The real-time memory usage of the
                  resource group on each Greenplum Database segment's host.</td>

              </tr>

            </tbody>
</table>
</div>

        <div class="p" id="topic31x__json_field_info1">The <code class="ph codeph">cpu_usage</code> field is a JSON-formatted, key:value
          string that identifies, for each resource group, the per-segment instance CPU core usage.
          The key is the segment id. The value is the sum of the percentages (as a decimal value) of
          the CPU cores used by the segment instance's resource group on the segment host;
          the maximum value is 1.00.
          The total CPU usage of all segment instances running on a host should not exceed
          the <code class="ph codeph">gp_resource_group_cpu_limit</code>. Example <code class="ph codeph">cpu_usage</code>
          column output:<pre class="pre codeblock"><code>
{"-1":0.01, "0":0.31, "1":0.31}</code></pre>In the example,
          segment <code class="ph codeph">0</code> and segment <code class="ph codeph">1</code> are running on the same host;
          their CPU usage is the same.</div>

        <div class="p" id="topic31x__json_field_info2">The <code class="ph codeph">memory_usage</code> field is also a JSON-formatted,
          key:value string. The string contents differ depending upon the type of resource group.
          For each resource group that you assign to a role (default memory auditor
            <code class="ph codeph">vmtracker</code>), this string identifies the used and available
          fixed and shared memory quota allocations on each segment. The key is segment id.
          The values are memory values displayed in MB units. The following example shows
            <code class="ph codeph">memory_usage</code> column output for a single segment for a resource group
          that you assign to a
          role:<pre class="pre codeblock"><code>
"0":{"used":0, "available":76, "quota_used":-1, "quota_available":60, "shared_used":0, "shared_available":16}</code></pre>
          For each resource group that you assign to an external component, the
            <code class="ph codeph">memory_usage</code> JSON-formatted string identifies the memory used and the
          memory limit on each segment. The following example shows <code class="ph codeph">memory_usage</code>
          column output for an external component resource group for a single segment:
          <pre class="pre codeblock"><code>"1":{"used":11, "limit_granted":15}</code></pre></div>

        <div class="note"><span class="notetitle">Note:</span> See the <code class="ph codeph">gp_resgroup_status_per_host</code> and
          <code class="ph codeph">gp_resgroup_status_per_segment</code> views, described below, for
          more user-friendly display of CPU and memory usage.</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="perhost__ie193152x" id="perhost">
      <h3 class="title topictitle3" id="perhost__ie193152x">gp_resgroup_status_per_host</h3>

      <div class="body">
        <p class="p">The <a class="xref" href="system_catalogs/gp_resgroup_status_per_host.html">gp_resgroup_status_per_host</a> view displays the real-time CPU and
          memory usage (MBs) for each resource group on a per-host basis. The view also displays
          available and granted group fixed and shared memory for each resource group on a host.</p>

        
        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="perhost__fp141982" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 20. </span>gp_resgroup_status_per_host view</span></caption><colgroup><col style="width:130pt" /><col style="width:238pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e3377">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e3380">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3377 "><code class="ph codeph">rsgname</code></td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3380 ">The name of the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3377 "><code class="ph codeph">groupid</code></td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3380 ">The ID of the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3377 "><code class="ph codeph">hostname</code></td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3380 ">The hostname of the segment host.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3377 "><code class="ph codeph">cpu</code></td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3380 ">The real-time CPU core usage by the resource group on a host.
                  The value is the sum of the percentages (as a decimal value) of the CPU cores that
                  are used by the resource group on the host.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3377 "> <code class="ph codeph">memory_used</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3380 ">The real-time memory usage of the resource group on
                  the host. This total includes resource group fixed and shared memory.
                  It also includes global shared memory used by the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3377 "> <code class="ph codeph">memory_available</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3380 ">The unused fixed and shared memory for the resource
                  group that is available on the host. This total does not include available
                  resource group global shared memory.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3377 "> <code class="ph codeph">memory_quota_used</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3380 ">The real-time fixed memory usage for the resource
                  group on the host.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3377 "> <code class="ph codeph">memory_quota_available</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3380 ">The fixed memory available to the resource group
                  on the host.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3377 "> <code class="ph codeph">memory_shared_used</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3380 ">The group shared memory used by the resource
                  group on the host. If any global shared memory is used by the resource
                  group, this amount is included in the total as well.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e3377 "> <code class="ph codeph">memory_shared_available</code> </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e3380 ">The amount of group shared memory available to the
                  resource group on the host. Resource group global shared memory is not
                  included in this total.</td>

              </tr>

            </tbody>
</table>
</div>

        <p class="p">Sample output for the <code class="ph codeph">gp_resgroup_status_per_host</code> view:</p>

        <pre class="pre codeblock"><code> rsgname       | groupid | hostname   | cpu  | memory_used | memory_available | memory_quota_used | memory_quota_available | memory_shared_used | memory_shared_available 
---------------+---------+------------+------+-------------+------------------+-------------------+------------------------+---------------------+---------------------
 admin_group   | 6438    | my-desktop | 0.84 | 1           | 271              | 68                | 68                     | 0                  | 136                     
 default_group | 6437    | my-desktop | 0.00 | 0           | 816              | 0                 | 400                    | 0                  | 416                     
(2 rows)</code></pre>
      </div>

    </div>

    <div class="topic nested2" aria-labelledby="perseg__ie193152x" id="perseg">
      <h3 class="title topictitle3" id="perseg__ie193152x">gp_resgroup_status_per_segment</h3>

      <div class="body">
        <p class="p">The <a class="xref" href="system_catalogs/gp_resgroup_status_per_segment.html">gp_resgroup_status_per_segment</a>
          view displays the real-time CPU and memory usage (MBs) for each resource
          group on a per-segment-instance and per-host basis. The view also
          displays available and granted group fixed and shared memory for each
          resource group and segment instance combination on the host.</p>

        
        
        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="perseg__fp141982" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 21. </span>gp_resgroup_status_per_segment view</span></caption><colgroup><col style="width:130pt" /><col style="width:238pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e3544">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e3547">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3544 "> <code class="ph codeph">rsgname</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3547 ">The name of the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3544 "> <code class="ph codeph">groupid</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3547 ">The ID of the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3544 "> <code class="ph codeph">hostname</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3547 ">The hostname of the segment host.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3544 "> <code class="ph codeph">segment_id</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3547 ">The content ID for a segment instance on the
                  segment host.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3544 ">
                  <code class="ph codeph">cpu</code>
                </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3547 ">The real-time, per-segment instance CPU core usage by the
                  resource group on the host. The value is the sum of the percentages (as a decimal
                  value) of the CPU cores that are used by the resource group for the segment
                  instance.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3544 "> <code class="ph codeph">memory_used</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3547 ">The real-time memory usage of the resource group for
                  the segment instance on the host. This total includes resource group
                  fixed and shared memory. It also includes global shared memory used by
                  the resource group.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3544 "> <code class="ph codeph">memory_available</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3547 ">The unused fixed and shared memory for the resource
                  group for the segment instance on the host.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3544 "> <code class="ph codeph">memory_quota_used</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3547 ">The real-time fixed memory usage for the resource group
                  for the segment instance on the host.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3544 "> <code class="ph codeph">memory_quota_available</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3547 ">The fixed memory available to the resource group for
                  the segment instance on the host.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3544 "> <code class="ph codeph">memory_shared_used</code> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3547 ">The group shared memory used by the resource
                  group for the segment instance on the host.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e3544 "> <code class="ph codeph">memory_shared_available</code> </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e3547 ">The amount of group shared memory available
                  for the segment instance on the host. Resource group global shared memory
                  is not included in this total.</td>

              </tr>

            </tbody>
</table>
</div>

        <p class="p">Query output for this view is similar to that of the
          <code class="ph codeph">gp_resgroup_status_per_host</code> view, and breaks out the CPU and
          memory (used and available) for each segment instance on each host.</p>

      </div>

    </div>

  </div>

  <div class="topic nested1" aria-labelledby="ariaid-title32" xml:lang="en" lang="en" id="topic26">
    <h2 class="title topictitle2" id="ariaid-title32">Checking Resource Queue Activity and Status</h2>

    <div class="body">
      <div class="note"><span class="notetitle">Note:</span> The resource queue activity and status views described in this section are valid only
        when resource queue-based resource management is active.</div>

      <p class="p">The purpose of resource queues is to limit the number of active queries in the system at
        any given time in order to avoid exhausting system resources such as memory, CPU, and disk
        I/O. All database users are assigned to a resource queue, and every statement submitted by a
        user is first evaluated against the resource queue limits before it can run. The <code class="ph codeph">gp_resq_*</code> family of views can be used to check
        the status of statements currently submitted to the system through their respective resource
        queue. Note that statements issued by superusers are exempt from resource queuing.</p>

      <ul class="ul">
        <li class="li" id="topic26__ie193806">
          <a class="xref" href="#topic27">gp_resq_activity</a>
        </li>

        <li class="li" id="topic26__ie193814">
          <a class="xref" href="#topic28">gp_resq_activity_by_queue</a>
        </li>

        <li class="li" id="topic26__ie193828">
          <a class="xref" href="#topic29">gp_resq_priority_statement</a>
        </li>

        <li class="li" id="topic26__ie196186">
          <a class="xref" href="#topic30">gp_resq_role</a>
        </li>

        <li class="li" id="topic26__ie193833">
          <a class="xref" href="#topic31">gp_resqueue_status</a>
        </li>

      </ul>

    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="gp_toolkit.html">The gp_toolkit Administrative Schema</a></div>
</div>
</div><div class="topic nested2" aria-labelledby="topic27__ie193152" xml:lang="en" lang="en" id="topic27">
      <h3 class="title topictitle3" id="topic27__ie193152">gp_resq_activity</h3>

      <div class="body">
        <p class="p">For the resource queues that have active workload, this view shows one row for each
          active statement submitted through a resource queue. This view is accessible to all
          users.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic27__ie177971" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 22. </span>gp_resq_activity view</span></caption><colgroup><col style="width:85pt" /><col style="width:291pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e3786">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e3789">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3786 ">resqprocpid </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3789 ">Process ID assigned to this statement
                  (on the master).</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3786 ">resqrole </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3789 ">User name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3786 ">resqoid </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3789 ">Resource queue object id.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3786 ">resqname </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3789 ">Resource queue name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3786 ">resqstart </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3789 ">Time statement was issued to the
                  system.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e3786 ">resqstatus </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e3789 ">Status of statement: running, waiting
                  or cancelled.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic28__ie173460" xml:lang="en" lang="en" id="topic28">
      <h3 class="title topictitle3" id="topic28__ie173460">gp_resq_activity_by_queue</h3>

      <div class="body">
        <p class="p">For the resource queues that have active workload, this view shows a summary of queue
          activity. This view is accessible to all users.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic28__ie178076" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 23. </span>gp_resq_activity_by_queue Column </span></caption><colgroup><col style="width:109pt" /><col style="width:266pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e3881">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e3884">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3881 ">resqoid </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3884 ">Resource queue object id.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3881 ">resqname </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3884 ">Resource queue name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3881 ">resqlast </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3884 ">Time of the last statement issued to
                  the queue.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3881 ">resqstatus </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3884 ">Status of last statement: running,
                  waiting or cancelled.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e3881 ">resqtotal </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e3884 ">Total statements in this queue.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic29__ie180197" xml:lang="en" lang="en" id="topic29">
      <h3 class="title topictitle3" id="topic29__ie180197">gp_resq_priority_statement</h3>

      <div class="body">
        <p class="p">This view shows the resource queue priority, session ID, and other information for all
          statements currently running in the Greenplum Database system. This view is accessible to
          all users. </p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic29__ie195605" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 24. </span>gp_resq_priority_statement view</span></caption><colgroup><col style="width:109pt" /><col style="width:267pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e3966">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e3969">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3966 ">rqpdatname </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3969 ">The database name that the session is
                  connected to.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3966 ">rqpusename </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3969 ">The user who issued the
                  statement.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3966 ">rqpsession </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3969 ">The session ID.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3966 ">rqpcommand </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3969 ">The number of the statement within this
                  session (the command id and session id uniquely identify a statement). </td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3966 ">rqppriority </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3969 ">The resource queue priority for this
                  statement (MAX, HIGH, MEDIUM, LOW).</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e3966 ">rqpweight </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e3969 ">An integer value associated with the
                  priority of this statement.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e3966 ">rqpquery </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e3969 ">The query text of the
                  statement.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic30__ie196226" xml:lang="en" lang="en" id="topic30">
      <h3 class="title topictitle3" id="topic30__ie196226">gp_resq_role</h3>

      <div class="body">
        <p class="p">This view shows the resource queues associated with a role. This view is accessible to
          all users.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic30__ie196267" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 25. </span>gp_resq_role view</span></caption><colgroup><col style="width:110pt" /><col style="width:267pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e4071">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e4074">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4071 ">rrrolname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4074 ">Role (user) name.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e4071 ">rrrsqname </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e4074 ">The resource queue name assigned to
                  this role. If a role has not been explicitly assigned to a resource queue, it will
                  be in the default resource queue (<em class="ph i">pg_default</em>).
                </td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic31__ie196285" xml:lang="en" lang="en" id="topic31">
      <h3 class="title topictitle3" id="topic31__ie196285">gp_resqueue_status</h3>

      <div class="body">
        <p class="p">This view allows administrators to see status and activity for a resource queue. It shows
          how many queries are waiting to run and how many queries are currently active in the
          system from a particular resource queue.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic31__ie196287" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 26. </span>gp_resqueue_status view</span></caption><colgroup><col style="width:178pt" /><col style="width:198pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e4132">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e4135">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4132 ">
                  <code class="ph codeph">queueid</code>
                </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4135 ">The ID of the resource queue.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4132 ">
                  <code class="ph codeph">rsqname</code>
                </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4135 ">The name of the resource queue.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4132 ">
                  <code class="ph codeph">rsqcountlimit</code>
                </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4135 ">The active query threshold of the
                  resource queue. A value of -1 means no limit.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4132 ">
                  <code class="ph codeph">rsqcountvalue</code>
                </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4135 ">The number of active query slots
                  currently being used in the resource queue.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4132 ">
                  <code class="ph codeph">rsqcostlimit</code>
                </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4135 ">The query cost threshold of the
                  resource queue. A value of -1 means no limit.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4132 ">
                  <code class="ph codeph">rsqcostvalue</code>
                </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4135 ">The total cost of all statements
                  currently in the resource queue.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4132 ">
                  <code class="ph codeph">rsqmemorylimit</code>
                </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4135 ">The memory limit for the resource
                  queue.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4132 ">
                  <code class="ph codeph">rsqmemoryvalue</code>
                </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4135 ">The total memory used by all statements
                  currently in the resource queue.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4132 ">
                  <code class="ph codeph">rsqwaiters</code>
                </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4135 ">The number of statements currently
                  waiting in the resource queue.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e4132 ">
                  <code class="ph codeph">rsqholders</code>
                </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e4135 ">The number of statements currently
                  running on the system from this resource queue.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

  </div>

  <div class="topic nested1" aria-labelledby="ariaid-title38" xml:lang="en" lang="en" id="topic32">
    <h2 class="title topictitle2" id="ariaid-title38">Checking Query Disk Spill Space Usage</h2>

    <div class="body">
      <p class="p">The <em class="ph i">gp_workfile_*</em> views show information about all the
        queries that are currently using disk spill space. Greenplum Database creates work files on
        disk if it does not have sufficient memory to run the query in memory. This information
        can be used for troubleshooting and tuning queries. The information in the views can also be
        used to specify the values for the Greenplum Database configuration parameters <code class="ph codeph">gp_workfile_limit_per_query</code> and <code class="ph codeph">gp_workfile_limit_per_segment</code>.</p>

      <ul class="ul">
        <li class="li" id="topic32__ie202605">
          <a class="xref" href="#topic33">gp_workfile_entries</a>
        </li>

        <li class="li" id="topic32__ie202609">
          <a class="xref" href="#topic34">gp_workfile_usage_per_query</a>
        </li>

        <li class="li" id="topic32__ie202613">
          <a class="xref" href="#topic35">gp_workfile_usage_per_segment</a>
        </li>

      </ul>

    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="gp_toolkit.html">The gp_toolkit Administrative Schema</a></div>
</div>
</div><div class="topic nested2" aria-labelledby="topic33__ie202615" xml:lang="en" lang="en" id="topic33">
      <h3 class="title topictitle3" id="topic33__ie202615">gp_workfile_entries</h3>

      <div class="body">
        <p class="p">This view contains one row for each operator using disk space for workfiles on a segment
          at the current time. The view is accessible to all users, however non-superusers only to
          see information for the databases that they have permission to access.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic33__table_zt5_yl1_gjb" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 27. </span>gp_workfile_entries</span></caption><colgroup><col style="width:131pt" /><col style="width:97pt" /><col style="width:82pt" /><col style="width:138pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e4349">Column</th>

                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e4352">Type</th>

                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e4355">References</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e4358">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4349 ">
                  <code class="ph codeph">datname</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4352 ">name</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4355 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4358 ">Greenplum database name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4349 ">
                  <code class="ph codeph">pid </code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4352 ">integer</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4355 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4358 ">Process ID of the server
                  process.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4349 ">
                  <code class="ph codeph">sess_id</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4352 ">integer</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4355 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4358 ">Session ID.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4349 ">
                  <code class="ph codeph">command_cnt</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4352 ">integer</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4355 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4358 ">Command ID of the query.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4349 ">
                  <code class="ph codeph">usename</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4352 ">name</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4355 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4358 ">Role name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4349 ">
                  <code class="ph codeph">query</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4352 ">text</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4355 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4358 ">Current query that the process is
                  running.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4349 ">
                  <code class="ph codeph">segid</code></td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4352 ">integer</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4355 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4358 ">Segment ID.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4349 ">
                  <code class="ph codeph">slice</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4352 ">integer</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4355 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4358 ">The query plan slice. The portion of
                  the query plan that is being run.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4349 ">
                  <code class="ph codeph">optype</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4352 ">text</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4355 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4358 ">The query operator type that created
                  the work file.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4349 ">
                  <code class="ph codeph">size</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4352 ">bigint</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4355 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4358 ">The size of the work file in
                  bytes.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4349 ">
                  <code class="ph codeph">numfiles</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4352 ">integer</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4355 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4358 ">The number of files created.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e4349 ">
                  <code class="ph codeph">prefix</code></td>

                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e4352 ">text</td>

                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e4355 "> </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e4358 ">Prefix used when naming a related set
                  of workfiles.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic34__ie202748" xml:lang="en" lang="en" id="topic34">
      <h3 class="title topictitle3" id="topic34__ie202748">gp_workfile_usage_per_query</h3>

      <div class="body">
        <p class="p">This view contains one row for each query using disk space for workfiles on a segment at
          the current time. The view is accessible to all users, however non-superusers only to see
          information for the databases that they have permission to access.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic34__ie202750" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 28. </span>gp_workfile_usage_per_query</span></caption><colgroup><col style="width:131pt" /><col style="width:97pt" /><col style="width:82pt" /><col style="width:138pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e4604">Column</th>

                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e4607">Type</th>

                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e4610">References</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e4613">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4604 ">
                  <code class="ph codeph">datname</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4607 ">name</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4610 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4613 ">Greenplum database name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4604 ">
                  <code class="ph codeph">pid </code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4607 ">integer</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4610 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4613 ">Process ID of the server
                  process.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4604 ">
                  <code class="ph codeph">sess_id</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4607 ">integer</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4610 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4613 ">Session ID.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4604 ">
                  <code class="ph codeph">command_cnt</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4607 ">integer</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4610 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4613 ">Command ID of the query.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4604 ">
                  <code class="ph codeph">usename</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4607 ">name</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4610 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4613 ">Role name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4604 ">
                  <code class="ph codeph">query</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4607 ">text</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4610 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4613 ">Current query that the process is
                  running.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4604 ">
                  <code class="ph codeph">segid</code></td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4607 ">integer</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4610 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4613 ">Segment ID.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4604 ">
                  <code class="ph codeph">size</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4607 ">numeric</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4610 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4613 ">The size of the work file in
                  bytes.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e4604 ">
                  <code class="ph codeph">numfiles</code>
                </td>

                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e4607 ">bigint</td>

                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e4610 "> </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e4613 ">The number of files created.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic35__ie202849" xml:lang="en" lang="en" id="topic35">
      <h3 class="title topictitle3" id="topic35__ie202849">gp_workfile_usage_per_segment</h3>

      <div class="body">
        <p class="p">This view contains one row for each segment. Each row displays the total amount of disk
          space used for workfiles on the segment at the current time. The view is accessible to all
          users, however non-superusers only to see information for the databases that they have
          permission to access.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic35__ie202851" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 29. </span>gp_workfile_usage_per_segment</span></caption><colgroup><col style="width:131pt" /><col style="width:97pt" /><col style="width:82pt" /><col style="width:138pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e4808">Column</th>

                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e4811">Type</th>

                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e4814">References</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e4817">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4808 ">
                  <code class="ph codeph">segid</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4811 ">smallint</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4814 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4817 ">Segment ID.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4808 ">
                  <code class="ph codeph">size</code>
                </td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4811 ">numeric</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4814 "> </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4817 ">The total size of the work files on a
                  segment.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e4808 ">
                  <code class="ph codeph">numfiles</code>
                </td>

                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e4811 ">bigint</td>

                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e4814 "> </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e4817 ">The number of files created.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

  </div>

  <div class="topic nested1" aria-labelledby="ariaid-title42" xml:lang="en" lang="en" id="topic36">
    <h2 class="title topictitle2" id="ariaid-title42">Viewing Users and Groups (Roles)</h2>

    <div class="body">
      <p class="p">It is frequently convenient to group users (roles) together to ease management of object
        privileges: that way, privileges can be granted to, or revoked from, a group as a whole. In
        Greenplum Database this is done by creating a role that represents the group, and then
        granting membership in the group role to individual user roles. </p>

      <p class="p">The <a class="xref" href="#topic37">gp_roles_assigned</a> view can be
        used to see all of the roles in the system, and their assigned members (if the role is also
        a group role).</p>

    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="gp_toolkit.html">The gp_toolkit Administrative Schema</a></div>
</div>
</div><div class="topic nested2" aria-labelledby="topic37__ie192504" xml:lang="en" lang="en" id="topic37">
      <h3 class="title topictitle3" id="topic37__ie192504">gp_roles_assigned </h3>

      <div class="body">
        <p class="p">This view shows all of the roles in the system, and their assigned members (if the role
          is also a group role). This view is accessible to all users.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic37__ie182600" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 30. </span>gp_roles_assigned view</span></caption><colgroup><col style="width:114pt" /><col style="width:261pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e4933">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e4936">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4933 ">raroleid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4936 ">The role object ID. If this role has
                  members (users), it is considered a <em class="ph i">group</em>
                  role.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4933 ">rarolename</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4936 ">The role (user or group) name.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e4933 ">ramemberid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e4936 ">The role object ID of the role that is
                  a member of this role.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e4933 ">ramembername</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e4936 ">Name of the role that is a member of
                  this role.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

  </div>

  <div class="topic nested1" aria-labelledby="topic38__ie192708" xml:lang="en" lang="en" id="topic38">
    <h2 class="title topictitle2" id="topic38__ie192708">Checking Database Object Sizes and Disk
      Space</h2>

    <div class="body">
      <p class="p">The <code class="ph codeph">gp_size_*</code> family of views can be used
        to determine the disk space usage for a distributed Greenplum Database, schema, table, or
        index. The following views calculate the total size of an object across all primary segments
        (mirrors are not included in the size calculations).</p>

      <ul class="ul" id="topic38__ul_jyr_wk5_vp">
        <li class="li" id="topic38__ie192740">
          <a class="xref" href="#topic39">gp_size_of_all_table_indexes</a>
        </li>

        <li class="li" id="topic38__ie192754">
          <a class="xref" href="#topic40">gp_size_of_database</a>
        </li>

        <li class="li" id="topic38__ie192759">
          <a class="xref" href="#topic41">gp_size_of_index</a>
        </li>

        <li class="li" id="topic38__ie192764">
          <a class="xref" href="#topic42">gp_size_of_partition_and_indexes_disk</a>
        </li>

        <li class="li" id="topic38__ie192769">
          <a class="xref" href="#topic43">gp_size_of_schema_disk</a>
        </li>

        <li class="li" id="topic38__ie192774">
          <a class="xref" href="#topic44">gp_size_of_table_and_indexes_disk</a>
        </li>

        <li class="li" id="topic38__ie192779">
          <a class="xref" href="#topic45">gp_size_of_table_and_indexes_licensing</a>
        </li>

        <li class="li" id="topic38__ie192792">
          <a class="xref" href="#topic46">gp_size_of_table_disk</a>
        </li>

        <li class="li" id="topic38__ie192797">
          <a class="xref" href="#topic47">gp_size_of_table_uncompressed</a>
        </li>

        <li class="li" id="topic38__ie194188">
          <a class="xref" href="#topic48">gp_disk_free</a>
        </li>

      </ul>

      <p class="p">The table and index sizing views list the relation by object ID (not by name). To check the
        size of a table or index by name, you must look up the relation name (<code class="ph codeph">relname</code>) in the <code class="ph codeph">pg_class</code> table. For example:</p>

      <pre class="pre codeblock"><code>SELECT relname as name, sotdsize as size, sotdtoastsize as 
toast, sotdadditionalsize as other 
FROM gp_size_of_table_disk as sotd, pg_class 
WHERE sotd.sotdoid=pg_class.oid ORDER BY relname;</code></pre>
    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="gp_toolkit.html">The gp_toolkit Administrative Schema</a></div>
</div>
</div><div class="topic nested2" aria-labelledby="topic39__ie192711" xml:lang="en" lang="en" id="topic39">
      <h3 class="title topictitle3" id="topic39__ie192711">gp_size_of_all_table_indexes</h3>

      <div class="body">
        <p class="p">This view shows the total size of all indexes for a table. This view is accessible to all
          users, however non-superusers will only be able to see relations that they have permission
          to access.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic39__ie181657" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 31. </span> gp_size_of_all_table_indexes view</span></caption><colgroup><col style="width:114pt" /><col style="width:262pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e5120">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e5123">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5120 ">soatioid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5123 ">The object ID of the table</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5120 ">soatisize</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5123 ">The total size of all table indexes in
                  bytes</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5120 ">soatischemaname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5123 ">The schema name</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e5120 ">soatitablename</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e5123 ">The table name</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic40__ie179902" xml:lang="en" lang="en" id="topic40">
      <h3 class="title topictitle3" id="topic40__ie179902">gp_size_of_database </h3>

      <div class="body">
        <p class="p">This view shows the total size of a database. This view is accessible to all users,
          however non-superusers will only be able to see databases that they have permission to
          access.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic40__ie181758" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 32. </span>gp_size_of_database view</span></caption><colgroup><col style="width:114pt" /><col style="width:261pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e5196">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e5199">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5196 ">sodddatname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5199 ">The name of the database</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e5196 ">sodddatsize</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e5199 ">The size of the database in
                  bytes</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic41__ie179692" xml:lang="en" lang="en" id="topic41">
      <h3 class="title topictitle3" id="topic41__ie179692">gp_size_of_index</h3>

      <div class="body">
        <p class="p">This view shows the total size of an index. This view is accessible to all users, however
          non-superusers will only be able to see relations that they have permission to access.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic41__ie181709" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 33. </span> gp_size_of_index view</span></caption><colgroup><col style="width:114pt" /><col style="width:262pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e5254">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e5257">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5254 ">soioid </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5257 ">The object ID of the index</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5254 ">soitableoid </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5257 ">The object ID of the table to which the
                  index belongs</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5254 ">soisize </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5257 ">The size of the index in bytes</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5254 ">soiindexschemaname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5257 ">The name of the index schema</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5254 ">soiindexname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5257 ">The name of the index</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5254 ">soitableschemaname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5257 ">The name of the table schema</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e5254 ">soitablename</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e5257 ">The name of the table</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic42__ie179913" xml:lang="en" lang="en" id="topic42">
      <h3 class="title topictitle3" id="topic42__ie179913">gp_size_of_partition_and_indexes_disk </h3>

      <div class="body">
        <p class="p">This view shows the size on disk of partitioned child tables and their indexes. This view
          is accessible to all users, however non-superusers will only be able to see relations that
          they have permission to access.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic42__ie181803" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 34. </span>gp_size_of_partition_and_indexes_disk view</span></caption><colgroup><col style="width:146pt" /><col style="width:231pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e5359">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e5362">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5359 ">sopaidparentoid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5362 ">The object ID of the parent
                  table</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5359 ">sopaidpartitionoid </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5362 ">The object ID of the partition
                  table</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5359 ">sopaidpartitiontablesize</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5362 ">The partition table size in
                  bytes</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5359 ">sopaidpartitionindexessize</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5362 ">The total size of all indexes on this
                  partition</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5359 ">Sopaidparentschemaname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5362 ">The name of the parent schema</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5359 ">Sopaidparenttablename</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5362 ">The name of the parent table</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5359 ">Sopaidpartitionschemaname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5362 ">The name of the partition
                  schema</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e5359 ">sopaidpartitiontablename</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e5362 ">The name of the partition table</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic43__ie179915" xml:lang="en" lang="en" id="topic43">
      <h3 class="title topictitle3" id="topic43__ie179915">gp_size_of_schema_disk </h3>

      <div class="body">
        <p class="p">This view shows schema sizes for the public schema and the user-created schemas in the
          current database. This view is accessible to all users, however non-superusers will be
          able to see only the schemas that they have permission to access. </p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic43__ie183105" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 35. </span>gp_size_of_schema_disk view</span></caption><colgroup><col style="width:145pt" /><col style="width:230pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e5472">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e5475">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5472 ">sosdnsp</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5475 ">The name of the schema</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5472 ">sosdschematablesize</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5475 ">The total size of tables in the schema
                  in bytes</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e5472 ">sosdschemaidxsize</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e5475 ">The total size of indexes in the schema
                  in bytes</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic44__ie183127" xml:lang="en" lang="en" id="topic44">
      <h3 class="title topictitle3" id="topic44__ie183127">gp_size_of_table_and_indexes_disk </h3>

      <div class="body">
        <p class="p">This view shows the size on disk of tables and their indexes. This view is accessible to
          all users, however non-superusers will only be able to see relations that they have
          permission to access. </p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic44__ie183128" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 36. </span>gp_size_of_table_and_indexes_disk view</span></caption><colgroup><col style="width:148pt" /><col style="width:228pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e5539">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e5542">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5539 ">sotaidoid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5542 ">The object ID of the parent
                  table</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5539 ">sotaidtablesize</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5542 ">The disk size of the table</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5539 ">sotaididxsize</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5542 ">The total size of all indexes on the
                  table</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5539 ">sotaidschemaname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5542 ">The name of the schema</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e5539 ">sotaidtablename</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e5542 ">The name of the table</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic45__ie179651" xml:lang="en" lang="en" id="topic45">
      <h3 class="title topictitle3" id="topic45__ie179651">gp_size_of_table_and_indexes_licensing</h3>

      <div class="body">
        <p class="p">This view shows the total size of tables and their indexes for licensing purposes. The
          use of this view requires superuser permissions.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic45__ie181949" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 37. </span>gp_size_of_table_and_indexes_licensing view</span></caption><colgroup><col style="width:169pt" /><col style="width:207pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e5624">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e5627">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5624 ">sotailoid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5627 ">The object ID of the table</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5624 ">sotailtablesizedisk</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5627 ">The total disk size of the
                  table</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5624 ">sotailtablesizeuncompressed</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5627 ">If the table is a compressed
                  append-optimized table, shows the uncompressed table size in bytes.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5624 ">sotailindexessize</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5627 ">The total size of all indexes in the
                  table</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5624 ">sotailschemaname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5627 ">The schema name</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e5624 ">sotailtablename</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e5627 ">The table name</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic46__ie179719" xml:lang="en" lang="en" id="topic46">
      <h3 class="title topictitle3" id="topic46__ie179719">gp_size_of_table_disk </h3>

      <div class="body">
        <p class="p">This view shows the size of a table on disk. This view is accessible to all users,
          however non-superusers will only be able to see tables that they have permission to
          access</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic46__ie183408" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 38. </span>gp_size_of_table_disk view</span></caption><colgroup><col style="width:114pt" /><col style="width:262pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e5719">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e5722">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5719 ">sotdoid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5722 ">The object ID of the table</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5719 ">sotdsize</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5722 ">The size of the table in bytes. The
                  size is only the main table size. The size does not include auxiliary objects such
                  as oversized (toast) attributes, or additional storage objects for AO
                  tables.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5719 ">sotdtoastsize</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5722 ">The size of the TOAST table (oversized
                  attribute storage), if there is one.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5719 ">sotdadditionalsize</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5722 ">Reflects the segment and block
                  directory table sizes for append-optimized (AO) tables.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5719 ">sotdschemaname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5722 ">The schema name</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e5719 ">sotdtablename</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e5722 ">The table name</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic47__ie183456" xml:lang="en" lang="en" id="topic47">
      <h3 class="title topictitle3" id="topic47__ie183456">gp_size_of_table_uncompressed</h3>

      <div class="body">
        <p class="p">This view shows the uncompressed table size for append-optimized (AO) tables. Otherwise,
          the table size on disk is shown. The use of this view requires superuser permissions.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic47__ie183582" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 39. </span>gp_size_of_table_uncompressed view</span></caption><colgroup><col style="width:114pt" /><col style="width:262pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e5814">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e5817">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5814 ">sotuoid</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5817 ">The object ID of the table</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5814 ">sotusize</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5817 ">The uncomressed size of the table in
                  bytes if it is a compressed AO table. Otherwise, the table size on disk.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5814 ">sotuschemaname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5817 ">The schema name</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e5814 ">sotutablename</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e5817 ">The table name</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic48__ie194115" xml:lang="en" lang="en" id="topic48">
      <h3 class="title topictitle3" id="topic48__ie194115">gp_disk_free</h3>

      <div class="body">
        <p class="p">This external table runs the <code class="ph codeph">df</code> (disk
          free) command on the active segment hosts and reports back the results. Inactive mirrors
          are not included in the calculation. The use of this external table requires superuser
          permissions.</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic48__ie194120" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 40. </span>gp_disk_free external table</span></caption><colgroup><col style="width:139pt" /><col style="width:238pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e5894">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e5897">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5894 ">dfsegment </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5897 ">The content id of the segment (only
                  active segments are shown)</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5894 ">dfhostname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5897 ">The hostname of the segment
                  host</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e5894 ">dfdevice</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e5897 ">The device name</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e5894 ">dfspace </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e5897 ">Free disk space in the segment file
                  system in kilobytes</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

  </div>

  <div class="topic nested1" aria-labelledby="topic49__ie183628" xml:lang="en" lang="en" id="topic49">
    <h2 class="title topictitle2" id="topic49__ie183628">Checking for Uneven Data Distribution</h2>

    <div class="body">
      <p class="p">All tables in Greenplum Database are distributed, meaning their data is divided across all
        of the segments in the system. If the data is not distributed evenly, then query processing
        performance may decrease. The following views can help diagnose if a table has uneven data
        distribution:</p>

      <ul class="ul" id="topic49__ul_fxc_vk5_vp">
        <li class="li" id="topic49__ie194964">
          <a class="xref" href="#topic50">gp_skew_coefficients</a>
        </li>

        <li class="li" id="topic49__ie194972">
          <a class="xref" href="#topic51">gp_skew_idle_fractions</a>
        </li>

      </ul>

    </div>

    <div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="gp_toolkit.html">The gp_toolkit Administrative Schema</a></div>
</div>
</div><div class="topic nested2" aria-labelledby="topic50__ie194177" xml:lang="en" lang="en" id="topic50">
      <h3 class="title topictitle3" id="topic50__ie194177">gp_skew_coefficients</h3>

      <div class="body">
        <p class="p">This view shows data distribution skew by calculating the coefficient of variation (CV)
          for the data stored on each segment. This view is accessible to all users, however
          non-superusers will only be able to see tables that they have permission to access</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic50__ie178132" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 41. </span>gp_skew_coefficients view</span></caption><colgroup><col style="width:109pt" /><col style="width:268pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e6006">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e6009">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e6006 ">skcoid </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e6009 ">The object id of the table.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e6006 ">skcnamespace</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e6009 ">The namespace where the table is
                  defined.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e6006 ">skcrelname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e6009 ">The table name.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e6006 ">skccoeff </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e6009 ">The coefficient of variation (CV) is
                  calculated as the standard deviation divided by the average. It takes into account
                  both the average and variability around the average of a data series. The lower
                  the value, the better. Higher values indicate greater data skew.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

    <div class="topic nested2" aria-labelledby="topic51__ie173448" xml:lang="en" lang="en" id="topic51">
      <h3 class="title topictitle3" id="topic51__ie173448">gp_skew_idle_fractions</h3>

      <div class="body">
        <p class="p">This view shows data distribution skew by calculating the percentage of the system that
          is idle during a table scan, which is an indicator of <span class="ph">processing
            data skew</span>. This view is accessible to all users, however non-superusers will only
          be able to see tables that they have permission to access</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="topic51__ie178290" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 42. </span>gp_skew_idle_fractions view </span></caption><colgroup><col style="width:109pt" /><col style="width:267pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d56874e6085">Column</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d56874e6088">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e6085 ">sifoid </td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e6088 ">The object id of the table.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e6085 ">sifnamespace</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e6088 ">The namespace where the table is
                  defined.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d56874e6085 ">sifrelname</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d56874e6088 ">The table name.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d56874e6085 ">siffraction </td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d56874e6088 ">The percentage of the system that is
                  idle during a table scan, which is an indicator of uneven data distribution or
                  query processing skew. For example, a value of 0.1 indicates 10% skew, a value of
                  0.5 indicates 50% skew, and so on. Tables that have more than 10% skew should have
                  their distribution policies evaluated.</td>

              </tr>

            </tbody>
</table>
</div>

      </div>

    </div>

  </div>

</body>
</html>