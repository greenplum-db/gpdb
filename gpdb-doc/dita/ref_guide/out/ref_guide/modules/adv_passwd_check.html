<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="advanced_password_check" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="topic_fstrm" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>advanced_password_check</title>
</head>
<body>

  <div class="nested0" aria-labelledby="ariaid-title1" id="topic_fstrm">
    <h1 class="title topictitle1" id="ariaid-title1">advanced_password_check</h1>

    <div class="body">
      <p class="p">The <code class="ph codeph">advanced_password_check</code> module provides password
        quality checking for Greenplum Database.</p>

      <p class="p">The Greenplum Database <code class="ph codeph">advanced_password_check</code> module
        is based on the <code class="ph codeph">passwordcheck_extra</code> module, which
        enhances the PostgreSQL <code class="ph codeph">passwordcheck</code> module to
        support user-defined policies to strengthen
        <code class="ph codeph">passwordcheck</code>'s minimum password requirements.</p>

    </div>

    <div class="topic nested1" aria-labelledby="ariaid-title2" id="topic_reg">
      <h2 class="title topictitle2" id="ariaid-title2">Loading the Module</h2>

      <div class="body">
        <div class="p">The <code class="ph codeph">advanced_password_check</code> module provides no
          SQL-accessible functions. To use it, simply load it into the server.
          You can load it into an individual session by entering this command as
          a superuser:<pre class="pre codeblock"><code># LOAD 'advanced_password_check';</code></pre></div>

        <div class="p">More typical usage is to preload it into all sessions by including
          <code class="ph codeph">advanced_password_check</code> in 
          <code class="ph codeph">shared_preload_libraries</code> in <code class="ph codeph">postgresql.conf</code>:
          <pre class="pre codeblock"><code>shared_preload_libraries = '<em class="ph i">other_libraries</em>,advanced_password_check'
</code></pre>
          and then restarting the Greenplum Database server.</div>

      </div>

    </div>

    <div class="topic nested1" aria-labelledby="ariaid-title3" id="topic_using">
      <h2 class="title topictitle2" id="ariaid-title3">Using the advanced_password_check Module</h2>

      <div class="body">
        <div class="p"><code class="ph codeph">advanced_password_check</code> is a Greenplum Database module
          that you can enable and configure to check password strings against
          one or more user-defined policies. You can configure policies that:
          <ul class="ul">
            <li class="li">Set a minimum password string length.</li>

            <li class="li">Set a maximum password string length.</li>

            <li class="li">Define a custom list of special characters.</li>

            <li class="li">Define rules for special character, upper/lower case character,
              and number inclusion in the password string.</li>

          </ul>

        </div>

        <p class="p">The <code class="ph codeph">advanced_password_check</code> module defines server
          configuration parameters that you set to configure password setting
          policies. These parameters include:</p>

        
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap"><span class="table--title-label">Table 1. </span>Configuration Parameters</span></caption><colgroup><col style="width:75pt" /><col style="width:29pt" /><col style="width:29pt" /><col style="width:159pt" /></colgroup><thead class="thead" style="text-align:left;">
              <tr class="row">
                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d101736e126">Parameter Name</th>

                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d101736e129">Type</th>

                <th class="entry nocellnorowborder" style="vertical-align:top;" id="d101736e132">Default Value</th>

                <th class="entry cell-norowborder" style="vertical-align:top;" id="d101736e135">Description</th>

              </tr>

            </thead>
<tbody class="tbody">
              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e126 ">minimum_length</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e129 ">int</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e132 ">8</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d101736e135 ">The minimum allowable length of a Greenplum
                  Database password.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e126 ">maxmum_length</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e129 ">int</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e132 ">15</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d101736e135 ">The maximum allowable length of Greenplum
                  Database password.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e126 ">special_chars</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e129 ">string</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e132 ">!@#$%^&amp;*()_+{}|&lt;&gt;?=</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d101736e135 ">The set of characters that Greenplum
                  Database considers to be special characters in a password.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e126 ">restrict_upper</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e129 ">bool</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e132 ">true</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d101736e135 ">Specifies whether or not the password
                  string must contain at least one upper case character.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e126 ">restrict_lower</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e129 ">bool</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e132 ">true</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d101736e135 ">Specifies whether or not the password
                  string must contain at least one lower case character.</td>

              </tr>

              <tr class="row">
                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e126 ">restrict_numbers</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e129 ">bool</td>

                <td class="entry nocellnorowborder" style="vertical-align:top;" headers="d101736e132 ">true</td>

                <td class="entry cell-norowborder" style="vertical-align:top;" headers="d101736e135 ">Specifies whether or not the password
                  string must contain at least one number.</td>

              </tr>

              <tr class="row">
                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d101736e126 ">restrict_special</td>

                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d101736e129 ">bool</td>

                <td class="entry row-nocellborder" style="vertical-align:top;" headers="d101736e132 ">true</td>

                <td class="entry cellrowborder" style="vertical-align:top;" headers="d101736e135 ">Specifies whether or not the password
                  string must contain at least one special character.</td>

              </tr>

            </tbody>
</table>
</div>

        <p class="p">After you define your password policies, you run the
          <code class="ph codeph">gpconfig</code> command for each configuration parameter
          that you must set. When you run the command, you must qualify the
          parameter with the module name. For example, to configure Greenplum
          Database to remove any requirements for a lower case letter in the
          password string, you run the following command:</p>

        <pre class="pre codeblock"><code>gpadmin@gpmaster$ gpconfig -c advanced_password_check.restrict_lower -v false</code></pre>
        <p class="p">After you set or change module configuration in this manner, you
          must reload the Greenplum Database configuration:</p>

        <pre class="pre codeblock"><code>gpadmin@gpmaster$ gpstop -u</code></pre>
      </div>

    </div>

    <div class="topic nested1" aria-labelledby="ariaid-title4" id="topic_example">
      <h2 class="title topictitle2" id="ariaid-title4">Example</h2>

      <div class="body">
        <p class="p">Suppose that you have defined the following password policies:</p>

        <ul class="ul">
          <li class="li">The password must contain a minimum of 10 characters and a maximum
            of 18.</li>

          <li class="li">The password must contain a mixture of upper case and lower case
            characters.</li>

          <li class="li">The password must contain at least one of the default special
             characters.</li>

          <li class="li">The are no requirements that the password contain a number.</li>

        </ul>

        <p class="p">You would run the following commands to configure Greenplum Database
          to enforce these policies:</p>

      <pre class="pre codeblock"><code>
gpadmin@gpmaster$ gpconfig -c advanced_password_check.minimum_length -v 10
gpadmin@gpmaster$ gpconfig -c advanced_password_check.maximum_length -v 18
gpadmin@gpmaster$ gpconfig -c advanced_password_check.restrict_number -v false
gpadmin@gpmaster$ gpstop -u</code></pre> 
      <p class="p">After loading the new configuration, passwords that the Greenplum
        superuser sets must now follow the policies, and Greenplum returns an
        error for every policy that is not met. Note that Greenplum checks the
        password string against all of the policies, and concatenates together
        the messages for any errors that it encounters.
        For example (line breaks added for better viewability):</p>

      <pre class="pre codeblock"><code># testdb=# CREATE role r1 PASSWORD '12345678901112';
ERROR:  Incorrect password format: lower-case character missing, upper-case character
missing, special character missing (needs to be one listed in "&lt;list-of-special-chars&gt;")</code></pre>
      </div>

    </div>

    <div class="topic nested1" aria-labelledby="ariaid-title5" id="topic_info">
    <h2 class="title topictitle2" id="ariaid-title5">Additional Module Documentation</h2>

      <div class="body">
        <p class="p">Refer to the <a class="xref" href="https://www.postgresql.org/docs/9.4/passwordcheck.html" target="_blank">passwordcheck</a> PostgreSQL documentation for
          more information about this module.</p>

      </div>

    </div>

  </div>

</body>
</html>