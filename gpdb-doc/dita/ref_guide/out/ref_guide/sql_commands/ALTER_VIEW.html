<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="ALTER VIEW" />
<meta name="DC.relation" scheme="URI" content="../sql_commands/sql_ref.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="topic1" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>ALTER VIEW</title>
</head>
<body id="topic1">
<h1 class="title topictitle1" id="topic1__am137232">ALTER VIEW</h1>
<div class="body"><p class="p" id="topic1__sql_command_desc">Changes properties of a view.</p>
<div class="section" id="topic1__section2"><h2 class="title sectiontitle">Synopsis</h2><pre class="pre codeblock" id="topic1__sql_command_synopsis"><code>ALTER VIEW [ IF EXISTS ] &lt;name&gt; ALTER [ COLUMN ] &lt;column_name&gt; SET DEFAULT &lt;expression&gt;

ALTER VIEW [ IF EXISTS ] &lt;name&gt; ALTER [ COLUMN ] &lt;column_name&gt; DROP DEFAULT

ALTER VIEW [ IF EXISTS ] &lt;name&gt; OWNER TO &lt;new_owner&gt;

ALTER VIEW [ IF EXISTS ] &lt;name&gt; RENAME TO &lt;new_name&gt;

ALTER VIEW [ IF EXISTS ] &lt;name&gt; SET SCHEMA &lt;new_schema&gt;

ALTER VIEW [ IF EXISTS ] &lt;name&gt; SET ( &lt;view_option_name&gt; [= &lt;view_option_value&gt;] [, ... ] )

ALTER VIEW [ IF EXISTS ] &lt;name&gt; RESET ( &lt;view_option_name&gt; [, ... ] )</code></pre></div>
<div class="section" id="topic1__section3"><h2 class="title sectiontitle">Description</h2>
      
      <p class="p"><code class="ph codeph">ALTER VIEW</code> changes various auxiliary properties of a view. (If you want to
        modify the view's defining query, use <code class="ph codeph">CREATE OR REPLACE VIEW</code>. </p>

      <p class="p">To run this command you must be the owner of the view. To change a view's schema you
        must also have <code class="ph codeph">CREATE</code> privilege on the new schema. To alter the owner, you
        must also be a direct or indirect member of the new owning role, and that role must have
          <code class="ph codeph">CREATE</code> privilege on the view's schema. These restrictions enforce that
        altering the owner does not do anything you could not do by dropping and recreating the
        view. However, a superuser can alter ownership of any view.</p>

    </div>
<div class="section" id="topic1__section4"><h2 class="title sectiontitle">Parameters</h2><dl class="dl parml">
        
          <dt class="dt pt dlterm"><var class="keyword varname">name</var></dt>

          <dd class="dd pd">The name (optionally schema-qualified) of an existing view.</dd>

        
        
          <dt class="dt pt dlterm"><code class="ph codeph">IF EXISTS</code></dt>

          <dd class="dd pd">Do not throw an error if the view does not exist. A notice is issued in this
            case.</dd>

        <dt class="dt pt dlterm"><code class="ph codeph">SET</code>/<code class="ph codeph">DROP DEFAULT</code></dt>

          <dd class="dd pd">These forms set or remove the default value for a column. A view column's default
            value is substituted into any <code class="ph codeph">INSERT</code> or <code class="ph codeph">UPDATE</code> command
            whose target is the view, before applying any rules or triggers for the view. The view's
            default will therefore take precedence over any default values from underlying
            relations.</dd>

        
          <dt class="dt pt dlterm"><var class="keyword varname">new_owner</var></dt>

          <dd class="dd pd">The new owner for the view. </dd>

        
        
          <dt class="dt pt dlterm"><var class="keyword varname">new_name</var></dt>

          <dd class="dd pd">The new name of the view.</dd>

        
        
          <dt class="dt pt dlterm"><var class="keyword varname">new_schema</var></dt>

          <dd class="dd pd">The new schema for the view.</dd>

        
        
          <dt class="dt pt dlterm"><code class="ph codeph">SET ( <var class="keyword varname">view_option_name</var> [=
                <var class="keyword varname">view_option_value</var>] [, ... ] )</code></dt>

          <dt class="dt pt dlterm"><code class="ph codeph">RESET ( <var class="keyword varname">view_option_name</var> [, ... ] )</code></dt>

          <dd class="dd pd">Sets or resets a view option. Currently supported options are:<dl class="dl parml">
              
                <dt class="dt pt dlterm"><code class="ph codeph">check_option</code> (string)</dt>

                <dd class="dd pd">Changes the check option of the view. The value must be <code class="ph codeph">local</code>
                  or <code class="ph codeph">cascaded</code>.</dd>

              
            </dl>
<dl class="dl parml">
              
                <dt class="dt pt dlterm"><code class="ph codeph">security_barrier</code> (boolean)</dt>

                <dd class="dd pd">Changes the security-barrier property of the view. The value must be a Boolean
                  value, such as <code class="ph codeph">true</code> or <code class="ph codeph">false</code>.</dd>

              
            </dl>
</dd>

        </dl>
</div>

    <div class="section"><h2 class="title sectiontitle">Notes</h2>
      
      <p class="p">For historical reasons, <code class="ph codeph">ALTER TABLE</code> can be used with views, too; however,
        the only variants of <code class="ph codeph">ALTER TABLE</code> that are allowed with views are equivalent
        to the statements shown above.</p>

      <p class="p">Rename the view <code class="ph codeph">myview</code> to <code class="ph codeph">newview</code>:</p>

      <pre class="pre codeblock"><code>ALTER VIEW myview RENAME TO newview;</code></pre>
    </div>

    <div class="section" id="topic1__examples"><h2 class="title sectiontitle">Examples</h2>
      <p class="p">To rename the view <code class="ph codeph">foo</code> to <code class="ph codeph">bar</code>:</p>

      <pre class="pre codeblock"><code>ALTER VIEW foo RENAME TO bar;</code></pre>
      <p class="p">To attach a default column value to an updatable view:</p>

      <pre class="pre codeblock"><code>CREATE TABLE base_table (id int, ts timestamptz);
CREATE VIEW a_view AS SELECT * FROM base_table;
ALTER VIEW a_view ALTER COLUMN ts SET DEFAULT now();
INSERT INTO base_table(id) VALUES(1);  -- ts will receive a NULL
INSERT INTO a_view(id) VALUES(2);  -- ts will receive the current time</code></pre>
    </div>

  <div class="section" id="topic1__section6"><h2 class="title sectiontitle">Compatibility</h2><p class="p"><code class="ph codeph">ALTER VIEW</code> is a Greenplum Database extension of the SQL standard.</p>
</div>
<div class="section" id="topic1__section7"><h2 class="title sectiontitle">See Also</h2><p class="p"><a class="xref" href="CREATE_VIEW.html#topic1__cj20941">CREATE VIEW</a>, <a class="xref" href="DROP_VIEW.html#topic1__dn20941">DROP VIEW</a> in the <em class="ph i">Greenplum
          Database Utility Guide</em></p>
</div>
</div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../sql_commands/sql_ref.html">SQL Commands</a></div>
</div>
</div></body>
</html>