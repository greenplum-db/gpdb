<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="DISCARD" />
<meta name="DC.relation" scheme="URI" content="../sql_commands/sql_ref.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="topic1" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>DISCARD</title>
</head>
<body id="topic1">

  <h1 class="title topictitle1" id="topic1__dn20941">DISCARD</h1>

  <div class="body">
    <p class="p" id="topic1__sql_command_desc">Discards the session state.</p>

    <div class="section" id="topic1__section2"><h2 class="title sectiontitle">Synopsis</h2>
      
      <pre class="pre codeblock" id="topic1__sql_command_synopsis"><code>DISCARD { ALL | PLANS | TEMPORARY | TEMP }</code></pre>
    </div>

    <div class="section" id="topic1__section3"><h2 class="title sectiontitle">Description</h2>
      
      <p class="p"><code class="ph codeph">DISCARD</code> releases internal resources associated with a database session.
        This command is useful for partially or fully resetting the session's state. There are
        several subcommands to release different types of resources. <code class="ph codeph">DISCARD ALL</code> is
        not supported by Greenplum Database. </p>

    </div>

    <div class="section" id="topic1__section4"><h2 class="title sectiontitle">Parameters</h2>
      
      <dl class="dl parml">
        
          <dt class="dt pt dlterm">PLANS</dt>

          <dd class="dd pd">Releases all cached query plans, forcing re-planning to occur the next time the
            associated prepared statement is used.</dd>

        
        
          <dt class="dt pt dlterm">SEQUENCES</dt>

          <dd class="dd pd">Discards all cached sequence-related state, including any preallocated sequence values
            that have not yet been returned by <code class="ph codeph">nextval()</code>. (See <code class="ph codeph">CREATE
              SEQUENCE</code> for a description of preallocated sequence values.) </dd>

        
        
          <dt class="dt pt dlterm">TEMPORARY/TEMP</dt>

          <dd class="dd pd">Drops all temporary tables created in the current session.</dd>

        
        
          <dt class="dt pt dlterm">ALL</dt>

          <dd class="dd pd">Releases all temporary resources associated with the current session and resets the
            session to its initial state.
            <div class="note"><span class="notetitle">Note:</span> Greenplum Database does not support <code class="ph codeph">DISCARD ALL</code> and returns a
              notice message if you attempt to run the command.</div>
</dd>

          <dd class="dd pd ddexpand">As an alternative, you can the run following commands to release temporary session
            resources:
            <pre class="pre codeblock"><code>SET SESSION AUTHORIZATION DEFAULT;
RESET ALL;
DEALLOCATE ALL;
CLOSE ALL;
SELECT pg_advisory_unlock_all();
DISCARD PLANS;
DISCARD SEQUENCES;
DISCARD TEMP;</code></pre></dd>

        
      </dl>

    </div>

    <div class="section" id="topic1__section6"><h2 class="title sectiontitle">Compatibility</h2>
      
      <p class="p"><code class="ph codeph">DISCARD</code> is a Greenplum Database extension.</p>

    </div>

  </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../sql_commands/sql_ref.html">SQL Commands</a></div>
</div>
</div></body>
</html>