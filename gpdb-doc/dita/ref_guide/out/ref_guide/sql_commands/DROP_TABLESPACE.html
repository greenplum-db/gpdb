<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="DROP TABLESPACE" />
<meta name="DC.relation" scheme="URI" content="../sql_commands/sql_ref.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="topic1" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>DROP TABLESPACE</title>
</head>
<body id="topic1">

  <h1 class="title topictitle1" id="topic1__dj20941">DROP TABLESPACE</h1>

  <div class="body">
    <p class="p" id="topic1__sql_command_desc">Removes a tablespace.</p>

    <div class="section" id="topic1__section2"><h2 class="title sectiontitle">Synopsis</h2>
      
      <pre class="pre codeblock" id="topic1__sql_command_synopsis"><code>DROP TABLESPACE [IF EXISTS] &lt;tablespacename&gt;</code></pre>
    </div>

    <div class="section" id="topic1__section3"><h2 class="title sectiontitle">Description</h2>
      
      <p class="p"><code class="ph codeph">DROP TABLESPACE</code> removes a tablespace from the system. </p>

      <p class="p">A tablespace can only be dropped by its owner or a superuser. The tablespace must be empty
        of all database objects before it can be dropped. It is possible that objects in other
        databases may still reside in the tablespace even if no objects in the current database are
        using the tablespace. Also, if the tablespace is listed in the <a class="xref" href="../config_params/guc-list.html#topic_k52_fqm_f3b">temp_tablespaces</a> setting of any active session,
          <code class="ph codeph">DROP TABLESPACE</code> might fail due to temporary files residing in the
        tablespace.</p>

    </div>

    <div class="section" id="topic1__section4"><h2 class="title sectiontitle">Parameters</h2>
      
      <dl class="dl parml">
        
          <dt class="dt pt dlterm">IF EXISTS</dt>

          <dd class="dd pd">Do not throw an error if the tablespace does not exist. A notice is issued in this
            case.</dd>

        
        
          <dt class="dt pt dlterm"><var class="keyword varname">tablespacename</var></dt>

          <dd class="dd pd">The name of the tablespace to remove.</dd>

        
      </dl>

    </div>

    <div class="section"><h2 class="title sectiontitle">Notes</h2>
      
      <p class="p">Run <code class="ph codeph">DROP TABLESPACE</code> during a period of low activity to avoid issues due to
        concurrent creation of tables and temporary objects. When a tablespace is dropped, there is
        a small window in which a table could be created in the tablespace that is currently being
        dropped. If this occurs, Greenplum Database returns a warning. This is an example of the
          <code class="ph codeph">DROP TABLESPACE</code> warning.</p>

      <pre class="pre codeblock"><code>testdb=# DROP TABLESPACE mytest; 
WARNING:  tablespace with oid "16415" is not empty  (seg1 192.168.8.145:25433 pid=29023)
WARNING:  tablespace with oid "16415" is not empty  (seg0 192.168.8.145:25432 pid=29022)
WARNING:  tablespace with oid "16415" is not empty
DROP TABLESPACE</code></pre>
      <p class="p">The table data in the tablespace directory is not dropped. You can use the <a class="xref" href="ALTER_TABLE.html">ALTER TABLE</a> command to change the
        tablespace defined for the table and move the data to an existing tablespace.</p>

    </div>

    <div class="section" id="topic1__section5"><h2 class="title sectiontitle">Examples</h2>
      
      <p class="p">Remove the tablespace <code class="ph codeph">mystuff</code>: </p>

      <pre class="pre codeblock"><code>DROP TABLESPACE mystuff;</code></pre>
    </div>

    <div class="section" id="topic1__section6"><h2 class="title sectiontitle">Compatibility</h2>
      
      <p class="p"><code class="ph codeph">DROP TABLESPACE</code> is a Greenplum Database extension.</p>

    </div>

    <div class="section" id="topic1__section7"><h2 class="title sectiontitle">See Also</h2>
      
      <p class="p"><a class="xref" href="CREATE_TABLESPACE.html#topic1">CREATE TABLESPACE</a>,
            <a class="xref" href="ALTER_TABLESPACE.html#topic1">ALTER TABLESPACE</a></p>

    </div>

  </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../sql_commands/sql_ref.html">SQL Commands</a></div>
</div>
</div></body>
</html>