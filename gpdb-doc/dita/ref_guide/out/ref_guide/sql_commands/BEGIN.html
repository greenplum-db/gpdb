<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="generator" content="DITA-OT" /><meta name="DC.type" content="topic" />
<meta name="DC.title" content="BEGIN" />
<meta name="DC.relation" scheme="URI" content="../sql_commands/sql_ref.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="topic1" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>BEGIN</title>
</head>
<body id="topic1">

    <h1 class="title topictitle1" id="topic1__be20941">BEGIN</h1>

    <div class="body">
        <p class="p" id="topic1__sql_command_desc">Starts a transaction block.</p>

        <div class="section" id="topic1__section2"><h2 class="title sectiontitle">Synopsis</h2>
            
            <pre class="pre codeblock" id="topic1__sql_command_synopsis"><code>BEGIN [WORK | TRANSACTION] [&lt;transaction_mode&gt;]</code></pre>
            <p class="p">where <var class="keyword varname">transaction_mode</var> is:</p>

            <pre class="pre codeblock"><code>   ISOLATION LEVEL {READ UNCOMMITTED | READ COMMITTED | REPEATABLE READ | SERIALIZABLE}
   READ WRITE | READ ONLY
   [ NOT ] DEFERRABLE</code></pre>
        </div>

        <div class="section" id="topic1__section3"><h2 class="title sectiontitle">Description</h2>
            
            <p class="p"><code class="ph codeph">BEGIN</code> initiates a transaction block, that is, all statements after a
                    <code class="ph codeph">BEGIN</code> command will be run in a single transaction until an
                explicit <code class="ph codeph">COMMIT</code> or <code class="ph codeph">ROLLBACK</code> is given. By default
                (without <code class="ph codeph">BEGIN</code>), Greenplum Database runs transactions in
                autocommit mode, that is, each statement is run in its own transaction and a
                commit is implicitly performed at the end of the statement (if execution was
                successful, otherwise a rollback is done). </p>

            <p class="p">Statements are run more quickly in a transaction block, because transaction
                start/commit requires significant CPU and disk activity. Execution of multiple
                statements inside a transaction is also useful to ensure consistency when making
                several related changes: other sessions will be unable to see the intermediate
                states wherein not all the related updates have been done. </p>

            <p class="p">If the isolation level, read/write mode, or deferrable mode is specified, the new
                transaction has those characteristics, as if <a class="xref" href="SET_TRANSACTION.html#topic1">SET TRANSACTION</a>
                was run. </p>

        </div>

        <div class="section" id="topic1__section4"><h2 class="title sectiontitle">Parameters</h2>
            
            <dl class="dl parml">
                
                    <dt class="dt pt dlterm">WORK</dt>

                    <dt class="dt pt dlterm">TRANSACTION</dt>

                    <dd class="dd pd">Optional key words. They have no effect.</dd>

                
                
                    <dt class="dt pt dlterm">SERIALIZABLE</dt>

                    <dt class="dt pt dlterm">READ COMMITTED</dt>

                    <dt class="dt pt dlterm">READ UNCOMMITTED</dt>

                    <dd class="dd pd">The SQL standard defines four transaction isolation levels: <code class="ph codeph">READ
                            UNCOMMITTED</code>, <code class="ph codeph">READ COMMITTED</code>,
                            <code class="ph codeph">REPEATABLE READ</code>, and
                        <code class="ph codeph">SERIALIZABLE</code>.</dd>

                    <dd class="dd pd ddexpand"><code class="ph codeph">READ UNCOMMITTED</code> allows transactions to see changes made by
                        uncomitted concurrent transactions. This is not possible in Greenplum
                        Database, so <code class="ph codeph">READ UNCOMMITTED</code> is treated the same as
                            <code class="ph codeph">READ COMMITTED</code>.</dd>

                    <dd class="dd pd ddexpand"><code class="ph codeph">READ COMMITTED</code>, the default isolation level in Greenplum
                        Database, guarantees that a statement can only see rows committed before it
                        began. The same statement run twice in a transaction can produce
                        different results if another concurrent transaction commits after the
                        statement is run the first time. </dd>

                    <dd class="dd pd ddexpand">The <code class="ph codeph">REPEATABLE READ</code> isolation level guarantees that a
                        transaction can only see rows committed before it began. <code class="ph codeph">REPEATABLE
                            READ</code> is the strictest transaction isolation level Greenplum
                        Database supports. Applications that use the <code class="ph codeph">REPEATABLE
                            READ</code> isolation level must be prepared to retry transactions due
                        to serialization failures.</dd>

                    <dd class="dd pd ddexpand">The <code class="ph codeph">SERIALIZABLE</code> transaction isolation level guarantees
                        that running multiple concurrent transactions produces the same effects as
                        running the same transactions one at a time. If you specify
                            <code class="ph codeph">SERIALIZABLE</code>, Greenplum Database falls back to
                            <code class="ph codeph">REPEATABLE READ</code>.</dd>

                    <dd class="dd pd ddexpand">Specifying <code class="ph codeph">DEFERRABLE</code> has no effect in Greenplum Database,
                        but the syntax is supported for compatibility with PostgreSQL. A transaction
                        can only be deferred if it is <code class="ph codeph">READ ONLY</code> and
                            <code class="ph codeph">SERIALIZABLE</code>, and Greenplum Database does not support
                            <code class="ph codeph">SERIALIAZABLE</code> transactions. </dd>

                
            </dl>

        </div>

        <div class="section" id="topic1__section5"><h2 class="title sectiontitle">Notes</h2>
            
            <p class="p"><a class="xref" href="START_TRANSACTION.html#topic1">START TRANSACTION</a> has the same functionality as <code class="ph codeph">BEGIN</code>. </p>

            <p class="p">Use <a class="xref" href="COMMIT.html#topic1">COMMIT</a> or
                        <a class="xref" href="ROLLBACK.html#topic1">ROLLBACK</a> to terminate a transaction block. </p>

            <p class="p">Issuing <code class="ph codeph">BEGIN</code> when already inside a transaction block will provoke a
                warning message. The state of the transaction is not affected. To nest transactions
                within a transaction block, use savepoints (see <code class="ph codeph">SAVEPOINT</code>).</p>

        </div>

        <div class="section" id="topic1__section6"><h2 class="title sectiontitle">Examples</h2>
            
            <p class="p">To begin a transaction block: </p>

            <pre class="pre codeblock"><code>BEGIN;</code></pre>
            <p class="p">To begin a transaction block with the repeatable read isolation level:</p>

            <pre class="pre codeblock"><code>BEGIN TRANSACTION ISOLATION LEVEL REPEATABLE READ;</code></pre>
        </div>

        <div class="section" id="topic1__section7"><h2 class="title sectiontitle">Compatibility</h2>
            
            <p class="p"><code class="ph codeph">BEGIN</code> is a Greenplum Database language extension. It is equivalent
                to the SQL-standard command <a class="xref" href="START_TRANSACTION.html#topic1">START TRANSACTION</a>.</p>

            <p class="p"><code class="ph codeph">DEFERRABLE</code>
                <var class="keyword varname">transaction_mode</var> is a Greenplum Database language extension.</p>

            <p class="p">Incidentally, the <code class="ph codeph">BEGIN</code> key word is used for a different purpose in
                embedded SQL. You are advised to be careful about the transaction semantics when
                porting database applications.</p>

        </div>

        <div class="section" id="topic1__section8"><h2 class="title sectiontitle">See Also</h2>
            
            <p class="p"><a class="xref" href="COMMIT.html#topic1">COMMIT</a>,
                        <a class="xref" href="ROLLBACK.html#topic1">ROLLBACK</a>, <a class="xref" href="START_TRANSACTION.html#topic1">START TRANSACTION</a>, <a class="xref" href="SAVEPOINT.html#topic1">SAVEPOINT</a></p>

        </div>

    </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../sql_commands/sql_ref.html">SQL Commands</a></div>
</div>
</div></body>
</html>